{"version":3,"sources":["../../../../../src/lib/interactive/wrapper/EachGannFan.js"],"names":["React","Component","PropTypes","isDefined","noop","getXValue","saveNodeType","isHover","ClickableCircle","GannFan","HoverTextNearMouse","EachGannFan","props","handleLine1Edge1Drag","bind","handleLine1Edge2Drag","handleDragStart","handleFanDrag","handleChannelHeightChange","handleHover","getEdgeCircle","nodes","state","hover","moreProps","hovering","setState","startXY","endXY","dy","dragStart","index","onDrag","xScale","yScale","chartConfig","xAccessor","fullData","startPos","mouseXY","x1","y1","x2","y2","dx","newX1Value","newY1Value","invert","newX2Value","newY2Value","newDy","xy","dragHandler","cursor","fill","edge","selected","appearance","edgeStroke","edgeStrokeWidth","r","onDragComplete","interactive","edgeFill","stroke","strokeWidth","strokeOpacity","fillOpacity","fontFamily","fontSize","fontFill","hoverText","hoverTextEnabled","enable","restHoverTextProps","hoverHandler","onHover","onUnHover","line1Edge","propTypes","arrayOf","number","isRequired","bool","shape","string","object","func","defaultProps","yDisplayFormat","d","toFixed","bgHeight","bgWidth","text"],"mappings":"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","file":"EachGannFan.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { isDefined, noop } from '../../utils';\nimport { getXValue } from '../../utils/ChartDataUtil';\nimport { saveNodeType, isHover } from '../utils';\n\nimport ClickableCircle from '../components/ClickableCircle';\nimport GannFan from '../components/GannFan';\nimport HoverTextNearMouse from '../components/HoverTextNearMouse';\n\nclass EachGannFan extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleLine1Edge1Drag = this.handleLine1Edge1Drag.bind(this);\n    this.handleLine1Edge2Drag = this.handleLine1Edge2Drag.bind(this);\n\n    this.handleDragStart = this.handleDragStart.bind(this);\n    this.handleFanDrag = this.handleFanDrag.bind(this);\n\n    this.handleChannelHeightChange = this.handleChannelHeightChange.bind(this);\n\n    this.handleHover = this.handleHover.bind(this);\n    this.getEdgeCircle = this.getEdgeCircle.bind(this);\n\n    this.isHover = isHover.bind(this);\n    this.saveNodeType = saveNodeType.bind(this);\n    this.nodes = {};\n\n    this.state = {\n      hover: false,\n    };\n  }\n  handleHover(moreProps) {\n    if (this.state.hover !== moreProps.hovering) {\n      this.setState({\n        hover: moreProps.hovering,\n      });\n    }\n  }\n  handleDragStart() {\n    const { startXY, endXY, dy } = this.props;\n\n    this.dragStart = {\n      startXY,\n      endXY,\n      dy,\n    };\n  }\n  handleFanDrag(moreProps) {\n    const { index, onDrag } = this.props;\n\n    const { startXY, endXY } = this.dragStart;\n\n    const {\n      xScale,\n      chartConfig: { yScale },\n      xAccessor,\n      fullData,\n    } = moreProps;\n    const { startPos, mouseXY } = moreProps;\n\n    const x1 = xScale(startXY[0]);\n    const y1 = yScale(startXY[1]);\n    const x2 = xScale(endXY[0]);\n    const y2 = yScale(endXY[1]);\n\n    const dx = startPos[0] - mouseXY[0];\n    const dy = startPos[1] - mouseXY[1];\n\n    const newX1Value = getXValue(\n      xScale,\n      xAccessor,\n      [x1 - dx, y1 - dy],\n      fullData\n    );\n    const newY1Value = yScale.invert(y1 - dy);\n    const newX2Value = getXValue(\n      xScale,\n      xAccessor,\n      [x2 - dx, y2 - dy],\n      fullData\n    );\n    const newY2Value = yScale.invert(y2 - dy);\n\n    // const newDy = newY2Value - endXY[1] + this.dragStart.dy;\n\n    onDrag(index, {\n      startXY: [newX1Value, newY1Value],\n      endXY: [newX2Value, newY2Value],\n      dy: this.dragStart.dy,\n    });\n  }\n  handleLine1Edge1Drag(moreProps) {\n    const { index, onDrag } = this.props;\n    const { startXY } = this.dragStart;\n\n    const {\n      startPos,\n      mouseXY,\n      xAccessor,\n      xScale,\n      fullData,\n      chartConfig: { yScale },\n    } = moreProps;\n\n    const dx = startPos[0] - mouseXY[0];\n    const dy = startPos[1] - mouseXY[1];\n\n    const x1 = xScale(startXY[0]);\n    const y1 = yScale(startXY[1]);\n\n    const newX1Value = getXValue(\n      xScale,\n      xAccessor,\n      [x1 - dx, y1 - dy],\n      fullData\n    );\n    const newY1Value = yScale.invert(y1 - dy);\n\n    onDrag(index, {\n      startXY: [newX1Value, newY1Value],\n      endXY: this.dragStart.endXY,\n      dy: this.dragStart.dy,\n    });\n  }\n  handleLine1Edge2Drag(moreProps) {\n    const { index, onDrag } = this.props;\n    const { endXY } = this.dragStart;\n\n    const {\n      startPos,\n      mouseXY,\n      xAccessor,\n      xScale,\n      fullData,\n      chartConfig: { yScale },\n    } = moreProps;\n\n    const dx = startPos[0] - mouseXY[0];\n    const dy = startPos[1] - mouseXY[1];\n\n    const x1 = xScale(endXY[0]);\n    const y1 = yScale(endXY[1]);\n\n    const newX1Value = getXValue(\n      xScale,\n      xAccessor,\n      [x1 - dx, y1 - dy],\n      fullData\n    );\n    const newY1Value = yScale.invert(y1 - dy);\n\n    onDrag(index, {\n      startXY: this.dragStart.startXY,\n      endXY: [newX1Value, newY1Value],\n      dy: this.dragStart.dy,\n    });\n  }\n  handleChannelHeightChange(moreProps) {\n    const { index, onDrag } = this.props;\n\n    const { startXY, endXY } = this.dragStart;\n\n    const {\n      chartConfig: { yScale },\n    } = moreProps;\n    const { startPos, mouseXY } = moreProps;\n\n    const y2 = yScale(endXY[1]);\n\n    const dy = startPos[1] - mouseXY[1];\n\n    const newY2Value = yScale.invert(y2 - dy);\n\n    const newDy = newY2Value - endXY[1] + this.dragStart.dy;\n\n    onDrag(index, {\n      startXY,\n      endXY,\n      dy: newDy,\n    });\n  }\n  getEdgeCircle({ xy, dragHandler, cursor, fill, edge }) {\n    const { hover } = this.state;\n    const { selected, appearance } = this.props;\n    const { edgeStroke, edgeStrokeWidth, r } = appearance;\n    const { onDragComplete } = this.props;\n\n    return (\n      <ClickableCircle\n        ref={this.saveNodeType(edge)}\n        show={selected || hover}\n        cx={xy[0]}\n        cy={xy[1]}\n        r={r}\n        fill={fill}\n        stroke={edgeStroke}\n        strokeWidth={edgeStrokeWidth}\n        interactiveCursorClass={cursor}\n        onDragStart={this.handleDragStart}\n        onDrag={dragHandler}\n        onDragComplete={onDragComplete}\n      />\n    );\n  }\n  render() {\n    const { startXY, endXY } = this.props;\n    const { interactive, appearance } = this.props;\n    const { edgeFill, stroke, strokeWidth, strokeOpacity, fill, fillOpacity } =\n      appearance;\n    const { fontFamily, fontSize, fontFill } = appearance;\n    const { hoverText, selected } = this.props;\n    const { onDragComplete } = this.props;\n    const { hover } = this.state;\n    const { enable: hoverTextEnabled, ...restHoverTextProps } = hoverText;\n\n    const hoverHandler = interactive\n      ? { onHover: this.handleHover, onUnHover: this.handleHover }\n      : {};\n\n    const line1Edge =\n      isDefined(startXY) && isDefined(endXY) ? (\n        <g>\n          {this.getEdgeCircle({\n            xy: startXY,\n            dragHandler: this.handleLine1Edge1Drag,\n            cursor: 'react-stockcharts-move-cursor',\n            fill: edgeFill,\n            edge: 'edge1',\n          })}\n          {this.getEdgeCircle({\n            xy: endXY,\n            dragHandler: this.handleLine1Edge2Drag,\n            cursor: 'react-stockcharts-move-cursor',\n            fill: edgeFill,\n            edge: 'edge2',\n          })}\n        </g>\n      ) : null;\n\n    return (\n      <g>\n        <GannFan\n          ref={this.saveNodeType('fan')}\n          selected={hover || selected}\n          {...hoverHandler}\n          startXY={startXY}\n          endXY={endXY}\n          stroke={stroke}\n          strokeWidth={hover || selected ? strokeWidth + 1 : strokeWidth}\n          fill={fill}\n          strokeOpacity={strokeOpacity}\n          fillOpacity={fillOpacity}\n          fontFamily={fontFamily}\n          fontSize={fontSize}\n          fontFill={fontFill}\n          interactiveCursorClass=\"react-stockcharts-move-cursor\"\n          onDragStart={this.handleDragStart}\n          onDrag={this.handleFanDrag}\n          onDragComplete={onDragComplete}\n        />\n        {line1Edge}\n        <HoverTextNearMouse\n          show={hoverTextEnabled && hover && !selected}\n          {...restHoverTextProps}\n        />\n      </g>\n    );\n  }\n}\n\nEachGannFan.propTypes = {\n  startXY: PropTypes.arrayOf(PropTypes.number).isRequired,\n  endXY: PropTypes.arrayOf(PropTypes.number).isRequired,\n  dy: PropTypes.number,\n\n  interactive: PropTypes.bool.isRequired,\n  selected: PropTypes.bool.isRequired,\n\n  appearance: PropTypes.shape({\n    stroke: PropTypes.string.isRequired,\n    strokeOpacity: PropTypes.number.isRequired,\n    fillOpacity: PropTypes.number.isRequired,\n    strokeWidth: PropTypes.number.isRequired,\n    edgeStroke: PropTypes.string.isRequired,\n    edgeFill: PropTypes.string.isRequired,\n    edgeStrokeWidth: PropTypes.number.isRequired,\n    r: PropTypes.number.isRequired,\n    fill: PropTypes.arrayOf(PropTypes.string).isRequired,\n    fontFamily: PropTypes.string.isRequired,\n    fontSize: PropTypes.number.isRequired,\n    fontFill: PropTypes.string.isRequired,\n  }).isRequired,\n  hoverText: PropTypes.object.isRequired,\n\n  index: PropTypes.number,\n  onDrag: PropTypes.func.isRequired,\n  onDragComplete: PropTypes.func.isRequired,\n};\n\nEachGannFan.defaultProps = {\n  yDisplayFormat: d => d.toFixed(2),\n  interactive: true,\n  selected: false,\n\n  appearance: {\n    stroke: '#000000',\n    fillOpacity: 0.2,\n    strokeOpacity: 1,\n    strokeWidth: 1,\n    edgeStroke: '#000000',\n    edgeFill: '#FFFFFF',\n    edgeStrokeWidth: 1,\n    r: 5,\n    fill: [\n      '#1f77b4',\n      '#ff7f0e',\n      '#2ca02c',\n      '#d62728',\n      '#9467bd',\n      '#8c564b',\n      '#e377c2',\n      '#7f7f7f',\n    ],\n    fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n    fontSize: 10,\n    fontFill: '#000000',\n  },\n\n  onDrag: noop,\n  onDragComplete: noop,\n\n  hoverText: {\n    ...HoverTextNearMouse.defaultProps,\n    enable: true,\n    bgHeight: 18,\n    bgWidth: 120,\n    text: 'Click to select object',\n  },\n};\n\nexport default EachGannFan;\n"]}