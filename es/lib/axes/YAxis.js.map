{"version":3,"sources":["../../../../src/lib/axes/YAxis.js"],"names":["React","Component","PropTypes","Axis","YAxis","props","context","axisZoomCallback","bind","newYDomain","chartId","yAxisZoom","helper","zoomEnabled","moreProps","propTypes","axisAt","oneOfType","oneOf","number","isRequired","orient","innerTickSize","outerTickSize","tickFormat","func","tickPadding","tickSize","ticks","yZoomWidth","tickValues","array","showTicks","bool","className","string","onContextMenu","onDoubleClick","defaultProps","showTickLabel","showDomain","domainClassName","fill","stroke","strokeWidth","opacity","tickStroke","tickStrokeOpacity","fontFamily","fontSize","fontWeight","getMouseDelta","startXY","mouseXY","contextTypes","chartConfig","object","width","height","axisLocation","y","w","h","x","transform","range","getScale","getYScale","bg","yPan","scale","yScale","flipYScale","invert","trueRange","trueDomain","map","copy","domain"],"mappings":"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","file":"YAxis.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Axis from './Axis';\n\nclass YAxis extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.axisZoomCallback = this.axisZoomCallback.bind(this);\n  }\n  axisZoomCallback(newYDomain) {\n    const { chartId, yAxisZoom } = this.context;\n    yAxisZoom(chartId, newYDomain);\n  }\n  render() {\n    const { zoomEnabled, ...moreProps } = helper(this.props, this.context);\n    return (\n      <Axis\n        {...this.props}\n        {...moreProps}\n        zoomEnabled={this.props.zoomEnabled && zoomEnabled}\n        edgeClip\n        axisZoomCallback={this.axisZoomCallback}\n        zoomCursorClassName=\"react-stockcharts-ns-resize-cursor\"\n      />\n    );\n  }\n}\n\nYAxis.propTypes = {\n  axisAt: PropTypes.oneOfType([\n    PropTypes.oneOf(['left', 'right', 'middle']),\n    PropTypes.number,\n  ]).isRequired,\n  orient: PropTypes.oneOf(['left', 'right']).isRequired,\n  innerTickSize: PropTypes.number,\n  outerTickSize: PropTypes.number,\n  tickFormat: PropTypes.func,\n  tickPadding: PropTypes.number,\n  tickSize: PropTypes.number,\n  ticks: PropTypes.number,\n  yZoomWidth: PropTypes.number,\n  tickValues: PropTypes.array,\n  showTicks: PropTypes.bool,\n  className: PropTypes.string,\n  zoomEnabled: PropTypes.bool,\n  onContextMenu: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n};\n\nYAxis.defaultProps = {\n  showTicks: true,\n  showTickLabel: true,\n  showDomain: true,\n  className: 'react-stockcharts-y-axis',\n  ticks: 10,\n  outerTickSize: 0,\n  domainClassName: 'react-stockcharts-axis-domain',\n  fill: 'none',\n  stroke: '#FFFFFF',\n  strokeWidth: 1,\n  opacity: 1,\n  innerTickSize: 5,\n  tickPadding: 6,\n  tickStroke: '#000000',\n  tickStrokeOpacity: 1,\n  fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n  fontSize: 12,\n  fontWeight: 400,\n  yZoomWidth: 40,\n  zoomEnabled: true,\n  getMouseDelta: (startXY, mouseXY) => startXY[1] - mouseXY[1],\n};\n\nYAxis.contextTypes = {\n  yAxisZoom: PropTypes.func.isRequired,\n  chartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n  chartConfig: PropTypes.object.isRequired,\n};\n\nfunction helper(props, context) {\n  const { axisAt, yZoomWidth, orient } = props;\n  const {\n    chartConfig: { width, height },\n  } = context;\n\n  let axisLocation;\n  const y = 0,\n    w = yZoomWidth,\n    h = height;\n\n  if (axisAt === 'left') {\n    axisLocation = 0;\n  } else if (axisAt === 'right') {\n    axisLocation = width;\n  } else if (axisAt === 'middle') {\n    axisLocation = width / 2;\n  } else {\n    axisLocation = axisAt;\n  }\n\n  const x = orient === 'left' ? -yZoomWidth : 0;\n\n  return {\n    transform: [axisLocation, 0],\n    range: [0, height],\n    getScale: getYScale,\n    bg: { x, y, h, w },\n    zoomEnabled: context.chartConfig.yPan,\n  };\n}\n\nfunction getYScale(moreProps) {\n  const { yScale: scale, flipYScale, height } = moreProps.chartConfig;\n  if (scale.invert) {\n    const trueRange = flipYScale ? [0, height] : [height, 0];\n    const trueDomain = trueRange.map(scale.invert);\n    return scale.copy().domain(trueDomain).range(trueRange);\n  }\n  return scale;\n}\n\nexport default YAxis;\n"]}