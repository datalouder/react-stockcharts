{"version":3,"sources":["../../../../src/lib/calculator/forceIndex.js"],"names":["slidingWindow","path","ForceIndex","defaultOptions","options","calculator","data","sourcePath","volumePath","source","volume","forceIndexCalulator","windowSize","accumulator","prev","curr","forceIndex","undefinedLength","x","arguments","length"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,IAAxB,QAAoC,UAApC;AACA,SAASC,cAAcC,cAAvB,QAA6C,gCAA7C;;AAEA,eAAe,YAAY;AACzB,MAAIC,UAAUD,cAAd;;AAEA,WAASE,UAAT,CAAoBC,IAApB,EAA0B;AAAA,mBACWF,OADX;AAAA,QAChBG,UADgB,YAChBA,UADgB;AAAA,QACJC,UADI,YACJA,UADI;;;AAGxB,QAAMC,SAASR,KAAKM,UAAL,CAAf;AACA,QAAMG,SAAST,KAAKO,UAAL,CAAf;;AAEA,QAAMG,sBAAsBX,gBACzBY,UADyB,CACd,CADc,EAEzBC,WAFyB,CAGxB;AAAA;AAAA,UAAEC,IAAF;AAAA,UAAQC,IAAR;;AAAA,aAAkB,CAACN,OAAOM,IAAP,IAAeN,OAAOK,IAAP,CAAhB,IAAgCJ,OAAOK,IAAP,CAAlD;AAAA,KAHwB,CAA5B;;AAMA,QAAMC,aAAaL,oBAAoBL,IAApB,CAAnB;;AAEA,WAAOU,UAAP;AACD;AACDX,aAAWY,eAAX,GAA6B,YAAY;AACvC,WAAO,CAAP;AACD,GAFD;AAGAZ,aAAWD,OAAX,GAAqB,UAAUc,CAAV,EAAa;AAChC,QAAI,CAACC,UAAUC,MAAf,EAAuB;AACrB,aAAOhB,OAAP;AACD;AACDA,2BAAeD,cAAf,EAAkCe,CAAlC;AACA,WAAOb,UAAP;AACD,GAND;;AAQA,SAAOA,UAAP;AACD","file":"forceIndex.js","sourcesContent":["import { slidingWindow, path } from '../utils';\nimport { ForceIndex as defaultOptions } from './defaultOptionsForComputation';\n\nexport default function () {\n  let options = defaultOptions;\n\n  function calculator(data) {\n    const { sourcePath, volumePath } = options;\n\n    const source = path(sourcePath);\n    const volume = path(volumePath);\n\n    const forceIndexCalulator = slidingWindow()\n      .windowSize(2)\n      .accumulator(\n        ([prev, curr]) => (source(curr) - source(prev)) * volume(curr)\n      );\n\n    const forceIndex = forceIndexCalulator(data);\n\n    return forceIndex;\n  }\n  calculator.undefinedLength = function () {\n    return 2;\n  };\n  calculator.options = function (x) {\n    if (!arguments.length) {\n      return options;\n    }\n    options = { ...defaultOptions, ...x };\n    return calculator;\n  };\n\n  return calculator;\n}\n"]}