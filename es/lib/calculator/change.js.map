{"version":3,"sources":["../../../../src/lib/calculator/change.js"],"names":["slidingWindow","Change","defaultOptions","options","calculator","data","sourcePath","algo","windowSize","accumulator","prev","curr","absoluteChange","percentChange","newData","undefinedLength","x","arguments","length"],"mappings":";;;;AAAA,SAASA,aAAT,QAA8B,UAA9B;AACA,SAASC,UAAUC,cAAnB,QAAyC,gCAAzC;;AAEA,eAAe,YAAY;AACzB,MAAIC,UAAUD,cAAd;;AAEA,WAASE,UAAT,CAAoBC,IAApB,EAA0B;AAAA,mBACDF,OADC;AAAA,QAChBG,UADgB,YAChBA,UADgB;;;AAGxB,QAAMC,OAAOP,gBACVQ,UADU,CACC,CADD,EAEVF,UAFU,CAECA,UAFD,EAGVG,WAHU,CAGE,gBAAkB;AAAA;AAAA,UAAhBC,IAAgB;AAAA,UAAVC,IAAU;;AAC7B,UAAMC,iBAAiBD,OAAOD,IAA9B;AACA,UAAMG,gBAAiBD,iBAAiB,GAAlB,GAAyBF,IAA/C;AACA,aAAO,EAAEE,8BAAF,EAAkBC,4BAAlB,EAAP;AACD,KAPU,CAAb;;AASA,QAAMC,UAAUP,KAAKF,IAAL,CAAhB;;AAEA,WAAOS,OAAP;AACD;AACDV,aAAWW,eAAX,GAA6B,YAAY;AACvC,WAAO,CAAP;AACD,GAFD;AAGAX,aAAWD,OAAX,GAAqB,UAAUa,CAAV,EAAa;AAChC,QAAI,CAACC,UAAUC,MAAf,EAAuB;AACrB,aAAOf,OAAP;AACD;AACDA,2BAAeD,cAAf,EAAkCc,CAAlC;AACA,WAAOZ,UAAP;AACD,GAND;;AAQA,SAAOA,UAAP;AACD","file":"change.js","sourcesContent":["import { slidingWindow } from '../utils';\nimport { Change as defaultOptions } from './defaultOptionsForComputation';\n\nexport default function () {\n  let options = defaultOptions;\n\n  function calculator(data) {\n    const { sourcePath } = options;\n\n    const algo = slidingWindow()\n      .windowSize(2)\n      .sourcePath(sourcePath)\n      .accumulator(([prev, curr]) => {\n        const absoluteChange = curr - prev;\n        const percentChange = (absoluteChange * 100) / prev;\n        return { absoluteChange, percentChange };\n      });\n\n    const newData = algo(data);\n\n    return newData;\n  }\n  calculator.undefinedLength = function () {\n    return 1;\n  };\n  calculator.options = function (x) {\n    if (!arguments.length) {\n      return options;\n    }\n    options = { ...defaultOptions, ...x };\n    return calculator;\n  };\n\n  return calculator;\n}\n"]}