{"version":3,"sources":["../../../../src/lib/annotation/LabelAnnotation.js"],"names":["React","Component","PropTypes","functor","LabelAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","textAnchor","fontFamily","fontSize","opacity","rotate","xAccessor","helper","xPos","yPos","fill","text","tooltip","x","y","plotData","xFunc","yFunc","propTypes","string","oneOfType","func","number","object","defaultProps"],"mappings":"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","file":"LabelAnnotation.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { functor } from '../utils';\n\nclass LabelAnnotation extends Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n  handleClick(e) {\n    const { onClick } = this.props;\n\n    if (onClick) {\n      const { xScale, yScale, datum } = this.props;\n      onClick({ xScale, yScale, datum }, e);\n    }\n  }\n  render() {\n    const { className, textAnchor, fontFamily, fontSize, opacity, rotate } =\n      this.props;\n    const { xAccessor, xScale, yScale } = this.props;\n\n    const { xPos, yPos, fill, text, tooltip } = helper(\n      this.props,\n      xAccessor,\n      xScale,\n      yScale\n    );\n\n    return (\n      <g className={className}>\n        <title>{tooltip}</title>\n        <text\n          x={xPos}\n          y={yPos}\n          fontFamily={fontFamily}\n          fontSize={fontSize}\n          fill={fill}\n          opacity={opacity}\n          transform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n          onClick={this.handleClick}\n          textAnchor={textAnchor}\n        >\n          {text}\n        </text>\n      </g>\n    );\n  }\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n  const { x, y, datum, fill, text, tooltip, plotData } = props;\n\n  const xFunc = functor(x);\n  const yFunc = functor(y);\n\n  const [xPos, yPos] = [\n    xFunc({ xScale, xAccessor, datum, plotData }),\n    yFunc({ yScale, datum, plotData }),\n  ];\n\n  return {\n    xPos,\n    yPos,\n    text: functor(text)(datum),\n    fill: functor(fill)(datum),\n    tooltip: functor(tooltip)(datum),\n  };\n}\n\nLabelAnnotation.propTypes = {\n  className: PropTypes.string,\n  text: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  textAnchor: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  opacity: PropTypes.number,\n  rotate: PropTypes.number,\n  onClick: PropTypes.func,\n  xAccessor: PropTypes.func,\n  xScale: PropTypes.func,\n  yScale: PropTypes.func,\n  datum: PropTypes.object,\n  x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n};\n\nexport const defaultProps = {\n  textAnchor: 'middle',\n  fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n  fontSize: 12,\n  fill: '#000000',\n  opacity: 1,\n  rotate: 0,\n  x: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n  ...defaultProps,\n  className: 'react-stockcharts-labelannotation',\n};\n\nexport default LabelAnnotation;\n"]}