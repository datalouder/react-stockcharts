{"version":3,"sources":["../../../../src/lib/tooltip/MACDTooltip.js"],"names":["format","React","Component","PropTypes","displayValuesFor","GenericChartComponent","ToolTipText","ToolTipTSpanLabel","functor","MACDTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","displayFormat","className","yAccessor","options","appearance","labelFill","chartConfig","width","height","currentItem","macdValue","macd","signal","divergence","originProp","origin","x","y","stroke","slow","fast","fill","propTypes","oneOfType","array","func","isRequired","string","number","shape","defaultProps"],"mappings":"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","file":"MACDTooltip.js","sourcesContent":["import { format } from 'd3-format';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport displayValuesFor from './displayValuesFor';\nimport GenericChartComponent from '../GenericChartComponent';\n\nimport ToolTipText from './ToolTipText';\nimport ToolTipTSpanLabel from './ToolTipTSpanLabel';\nimport { functor } from '../utils';\n\nclass MACDTooltip extends Component {\n  constructor(props) {\n    super(props);\n    this.renderSVG = this.renderSVG.bind(this);\n  }\n  renderSVG(moreProps) {\n    const { onClick, fontFamily, fontSize, displayFormat, className } =\n      this.props;\n    const { yAccessor, options, appearance, labelFill } = this.props;\n    const { displayValuesFor } = this.props;\n\n    const {\n      chartConfig: { width, height },\n    } = moreProps;\n\n    const currentItem = displayValuesFor(this.props, moreProps);\n    const macdValue = currentItem && yAccessor(currentItem);\n\n    const macd =\n      (macdValue && macdValue.macd && displayFormat(macdValue.macd)) || 'n/a';\n    const signal =\n      (macdValue && macdValue.signal && displayFormat(macdValue.signal)) ||\n      'n/a';\n    const divergence =\n      (macdValue &&\n        macdValue.divergence &&\n        displayFormat(macdValue.divergence)) ||\n      'n/a';\n\n    const { origin: originProp } = this.props;\n    const origin = functor(originProp);\n    const [x, y] = origin(width, height);\n\n    return (\n      <g\n        className={className}\n        transform={`translate(${x}, ${y})`}\n        onClick={onClick}\n      >\n        <ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\n          <ToolTipTSpanLabel fill={labelFill}>MACD (</ToolTipTSpanLabel>\n          <tspan fill={appearance.stroke.macd}>{options.slow}</tspan>\n          <ToolTipTSpanLabel fill={labelFill}>, </ToolTipTSpanLabel>\n          <tspan fill={appearance.stroke.macd}>{options.fast}</tspan>\n          <ToolTipTSpanLabel fill={labelFill}>): </ToolTipTSpanLabel>\n          <tspan fill={appearance.stroke.macd}>{macd}</tspan>\n          <ToolTipTSpanLabel fill={labelFill}> Signal (</ToolTipTSpanLabel>\n          <tspan fill={appearance.stroke.signal}>{options.signal}</tspan>\n          <ToolTipTSpanLabel fill={labelFill}>): </ToolTipTSpanLabel>\n          <tspan fill={appearance.stroke.signal}>{signal}</tspan>\n          <ToolTipTSpanLabel fill={labelFill}> Divergence: </ToolTipTSpanLabel>\n          <tspan fill={appearance.fill.divergence}>{divergence}</tspan>\n        </ToolTipText>\n      </g>\n    );\n  }\n  render() {\n    return (\n      <GenericChartComponent\n        clip={false}\n        svgDraw={this.renderSVG}\n        drawOn={['mousemove']}\n      />\n    );\n  }\n}\n\nMACDTooltip.propTypes = {\n  origin: PropTypes.oneOfType([PropTypes.array, PropTypes.func]).isRequired,\n  className: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  labelFill: PropTypes.string,\n\n  yAccessor: PropTypes.func.isRequired,\n  options: PropTypes.shape({\n    slow: PropTypes.number.isRequired,\n    fast: PropTypes.number.isRequired,\n    signal: PropTypes.number.isRequired,\n  }).isRequired,\n  appearance: PropTypes.shape({\n    stroke: {\n      macd: PropTypes.string.isRequired,\n      signal: PropTypes.string.isRequired,\n    }.isRequired,\n    fill: PropTypes.shape({\n      divergence: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n  displayFormat: PropTypes.func.isRequired,\n  displayValuesFor: PropTypes.func,\n  onClick: PropTypes.func,\n};\n\nMACDTooltip.defaultProps = {\n  origin: [0, 0],\n  displayFormat: format('.2f'),\n  displayValuesFor: displayValuesFor,\n  className: 'react-stockcharts-tooltip',\n};\n\nexport default MACDTooltip;\n// export default MACDTooltip;\n"]}