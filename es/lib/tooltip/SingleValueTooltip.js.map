{"version":3,"sources":["../../../../src/lib/tooltip/SingleValueTooltip.js"],"names":["React","Component","PropTypes","format","displayValuesFor","GenericChartComponent","ToolTipText","ToolTipTSpanLabel","isDefined","identity","noop","functor","SingleValueTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","labelFill","valueFill","className","xDisplayFormat","yDisplayFormat","xLabel","yLabel","xAccessor","yAccessor","chartConfig","width","height","currentItem","xDisplayValue","yDisplayValue","originProp","origin","x","y","propTypes","func","isRequired","string","oneOfType","array","number","defaultProps"],"mappings":"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","file":"SingleValueTooltip.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { format } from 'd3-format';\nimport displayValuesFor from './displayValuesFor';\nimport GenericChartComponent from '../GenericChartComponent';\n\nimport ToolTipText from './ToolTipText';\nimport ToolTipTSpanLabel from './ToolTipTSpanLabel';\nimport { isDefined, identity, noop, functor } from '../utils';\n\nclass SingleValueTooltip extends Component {\n  constructor(props) {\n    super(props);\n    this.renderSVG = this.renderSVG.bind(this);\n  }\n  renderSVG(moreProps) {\n    const { onClick, fontFamily, fontSize, labelFill, valueFill, className } =\n      this.props;\n    const {\n      xDisplayFormat,\n      yDisplayFormat,\n      xLabel,\n      yLabel,\n      xAccessor,\n      yAccessor,\n    } = this.props;\n    const { displayValuesFor } = this.props;\n\n    const {\n      chartConfig: { width, height },\n    } = moreProps;\n    const currentItem = displayValuesFor(this.props, moreProps);\n\n    const xDisplayValue =\n      isDefined(currentItem) && isDefined(xAccessor(currentItem))\n        ? xDisplayFormat(xAccessor(currentItem))\n        : 'n/a';\n    const yDisplayValue =\n      isDefined(currentItem) && isDefined(yAccessor(currentItem))\n        ? yDisplayFormat(yAccessor(currentItem))\n        : 'n/a';\n\n    const { origin: originProp } = this.props;\n    const origin = functor(originProp);\n    const [x, y] = origin(width, height);\n\n    return (\n      <g\n        className={className}\n        transform={`translate(${x}, ${y})`}\n        onClick={onClick}\n      >\n        <ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\n          {xLabel ? (\n            <ToolTipTSpanLabel\n              x={0}\n              dy=\"5\"\n              fill={labelFill}\n            >{`${xLabel}: `}</ToolTipTSpanLabel>\n          ) : null}\n          {xLabel ? (\n            <tspan fill={valueFill}>{`${xDisplayValue} `}</tspan>\n          ) : null}\n          <ToolTipTSpanLabel\n            fill={labelFill}\n          >{`${yLabel}: `}</ToolTipTSpanLabel>\n          <tspan fill={valueFill}>{yDisplayValue}</tspan>\n        </ToolTipText>\n      </g>\n    );\n  }\n  render() {\n    return (\n      <GenericChartComponent\n        clip={false}\n        svgDraw={this.renderSVG}\n        drawOn={['mousemove']}\n      />\n    );\n  }\n}\n\nSingleValueTooltip.propTypes = {\n  xDisplayFormat: PropTypes.func,\n  yDisplayFormat: PropTypes.func.isRequired,\n  xLabel: PropTypes.string,\n  yLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelFill: PropTypes.string.isRequired,\n  valueFill: PropTypes.string,\n  origin: PropTypes.oneOfType([PropTypes.array, PropTypes.func]).isRequired,\n  className: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  onClick: PropTypes.func,\n  displayValuesFor: PropTypes.func,\n  xAccessor: PropTypes.func,\n  yAccessor: PropTypes.func,\n};\n\nSingleValueTooltip.defaultProps = {\n  origin: [0, 0],\n  labelFill: '#4682B4',\n  valueFill: '#000000',\n  yDisplayFormat: format('.2f'),\n  displayValuesFor: displayValuesFor,\n  xAccessor: noop,\n  yAccessor: identity,\n  className: 'react-stockcharts-tooltip',\n};\n\nexport default SingleValueTooltip;\n"]}