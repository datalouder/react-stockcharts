{"version":3,"sources":["../../../../src/lib/coordinates/PriceCoordinate.js"],"names":["React","Component","PropTypes","drawOnCanvas","renderSVG","GenericChartComponent","getAxisCanvas","functor","strokeDashTypes","PriceCoordinate","props","bind","ctx","moreProps","helper","propTypes","displayFormat","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","price","dx","arrowWidth","opacity","lineOpacity","lineStroke","string","fontFamily","fontSize","fill","oneOfType","strokeDasharray","stroke","strokeOpacity","strokeWidth","textFill","defaultProps","width","yScale","chartConfig","domain","lowerYValue","upperYValue","x1","x2","edgeAt","type","y","show","coordinate","invert","hideLine","coordinateProps","lineStrokeDasharray","y1","y2"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,SAASC,6BAAT,EAAuBC,uBAAvB,QAAwC,oBAAxC;AACA,OAAOC,qBAAP,MAAkC,0BAAlC;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SAASC,OAAT,EAAkBC,eAAlB,QAAyC,UAAzC;;IAEMC,e;;;AACJ,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA,kIACXA,KADW;;AAEjB,UAAKN,SAAL,GAAiB,MAAKA,SAAL,CAAeO,IAAf,OAAjB;AACA,UAAKR,YAAL,GAAoB,MAAKA,YAAL,CAAkBQ,IAAlB,OAApB;AAHiB;AAIlB;;;;iCACYC,G,EAAKC,S,EAAW;AAC3B,UAAMH,QAAQI,OAAO,KAAKJ,KAAZ,EAAmBG,SAAnB,CAAd;AACAV,oBAAaS,GAAb,EAAkBF,KAAlB;AACD;;;8BACSG,S,EAAW;AACnB,UAAMH,QAAQI,OAAO,KAAKJ,KAAZ,EAAmBG,SAAnB,CAAd;AACA,aAAOT,WAAUM,KAAV,CAAP;AACD;;;6BACQ;AACP,aACE,oBAAC,qBAAD;AACE,cAAM,KADR;AAEE,iBAAS,KAAKN,SAFhB;AAGE,oBAAY,KAAKD,YAHnB;AAIE,sBAAcG,aAJhB;AAKE,gBAAQ,CAAC,KAAD;AALV,QADF;AASD;;;;EAxB2BL,S;;AA2B9BQ,gBAAgBM,SAAhB,GAA4B;AAC1BC,iBAAed,UAAUe,IAAV,CAAeC,UADJ;AAE1BC,YAAUjB,UAAUkB,MAFM;AAG1BC,aAAWnB,UAAUkB,MAHK;AAI1BE,cAAYpB,UAAUkB,MAJI;AAK1BG,UAAQrB,UAAUsB,KAAV,CAAgB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CALkB;AAM1BC,MAAIvB,UAAUsB,KAAV,CAAgB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CANsB;AAO1BE,SAAOxB,UAAUkB,MAPS;AAQ1BO,MAAIzB,UAAUkB,MARY;AAS1BQ,cAAY1B,UAAUkB,MATI;AAU1BS,WAAS3B,UAAUkB,MAVO;AAW1BU,eAAa5B,UAAUkB,MAXG;AAY1BW,cAAY7B,UAAU8B,MAZI;AAa1BC,cAAY/B,UAAU8B,MAbI;AAc1BE,YAAUhC,UAAUkB,MAdM;AAe1Be,QAAMjC,UAAUkC,SAAV,CAAoB,CAAClC,UAAU8B,MAAX,EAAmB9B,UAAUe,IAA7B,CAApB,CAfoB;AAgB1BoB,mBAAiBnC,UAAUsB,KAAV,CAAgBhB,eAAhB,CAhBS;AAiB1B8B,UAAQpC,UAAU8B,MAjBQ;AAkB1BO,iBAAerC,UAAUkB,MAlBC;AAmB1BoB,eAAatC,UAAUkB,MAnBG;AAoB1BqB,YAAUvC,UAAUkC,SAAV,CAAoB,CAAClC,UAAU8B,MAAX,EAAmB9B,UAAUe,IAA7B,CAApB;AApBgB,CAA5B;;AAuBAR,gBAAgBiC,YAAhB,GAA+B;AAC7BvB,YAAU,CADmB;AAE7BE,aAAW,EAFkB;AAG7BC,cAAY,EAHiB;AAI7BC,UAAQ,MAJqB;AAK7BE,MAAI,MALyB;AAM7BC,SAAO,CANsB;AAO7BC,MAAI,CAPyB;AAQ7BC,cAAY,CARiB;AAS7BO,QAAM,SATuB;AAU7BN,WAAS,CAVoB;AAW7BC,eAAa,GAXgB;AAY7BC,cAAY,SAZiB;AAa7BE,cAAY,8CAbiB;AAc7BC,YAAU,EAdmB;AAe7BO,YAAU,SAfmB;AAgB7BF,iBAAe,CAhBc;AAiB7BC,eAAa,CAjBgB;AAkB7BH,mBAAiB;AAlBY,CAA/B;;AAqBA,SAASvB,MAAT,CAAgBJ,KAAhB,EAAuBG,SAAvB,EAAkC;AAAA,MACxB8B,KADwB,GACd9B,SADc,CACxB8B,KADwB;AAAA,MAGfC,MAHe,GAI5B/B,SAJ4B,CAG9BgC,WAH8B,CAGfD,MAHe;;AAAA,uBAKGA,OAAOE,MAAP,EALH;AAAA;AAAA,MAKzBC,WALyB;AAAA,MAKZC,WALY;;AAAA,MAOxBtB,KAPwB,GAOuChB,KAPvC,CAOxBgB,KAPwB;AAAA,MAOjBY,MAPiB,GAOuC5B,KAPvC,CAOjB4B,MAPiB;AAAA,MAOTD,eAPS,GAOuC3B,KAPvC,CAOT2B,eAPS;AAAA,MAOQE,aAPR,GAOuC7B,KAPvC,CAOQ6B,aAPR;AAAA,MAOuBC,WAPvB,GAOuC9B,KAPvC,CAOuB8B,WAPvB;AAAA,MAQxBjB,MARwB,GAQiCb,KARjC,CAQxBa,MARwB;AAAA,MAQhBE,EARgB,GAQiCf,KARjC,CAQhBe,EARgB;AAAA,MAQZJ,SARY,GAQiCX,KARjC,CAQZW,SARY;AAAA,MAQDC,UARC,GAQiCZ,KARjC,CAQDY,UARC;AAAA,MAQWN,aARX,GAQiCN,KARjC,CAQWM,aARX;AAAA,MAQ0BW,EAR1B,GAQiCjB,KARjC,CAQ0BiB,EAR1B;AAAA,MAU9BQ,IAV8B,GAkB5BzB,KAlB4B,CAU9ByB,IAV8B;AAAA,MAW9BN,OAX8B,GAkB5BnB,KAlB4B,CAW9BmB,OAX8B;AAAA,MAY9BI,UAZ8B,GAkB5BvB,KAlB4B,CAY9BuB,UAZ8B;AAAA,MAa9BC,QAb8B,GAkB5BxB,KAlB4B,CAa9BwB,QAb8B;AAAA,MAc9BO,QAd8B,GAkB5B/B,KAlB4B,CAc9B+B,QAd8B;AAAA,MAe9Bb,UAf8B,GAkB5BlB,KAlB4B,CAe9BkB,UAf8B;AAAA,MAgB9BE,WAhB8B,GAkB5BpB,KAlB4B,CAgB9BoB,WAhB8B;AAAA,MAiB9BC,UAjB8B,GAkB5BrB,KAlB4B,CAiB9BqB,UAjB8B;;;AAoBhC,MAAMkB,KAAK,CAAX;AAAA,MACEC,KAAKP,KADP;AAEA,MAAMQ,SAAS1B,OAAO,OAAP,GAAiBkB,KAAjB,GAAyB,CAAxC;;AAEA,MAAMS,OAAO,YAAb;;AAEA,MAAMC,IAAIT,OAAOlB,KAAP,CAAV;AACA,MAAM4B,OAAO5B,SAASsB,WAAT,IAAwBtB,SAASqB,WAA9C;;AAEA,MAAMQ,aAAavC,cAAc4B,OAAOY,MAAP,CAAcH,CAAd,CAAd,CAAnB;AACA,MAAMI,WAAW,KAAjB;;AAEA,MAAMC,kBAAkB;AACtBH,0BADsB;AAEtBD,cAFsB;AAGtBF,cAHsB;AAItB7B,kBAJsB;AAKtB4B,kBALsB;AAMtBM,sBANsB;AAOtB3B,4BAPsB;AAQtBC,0BARsB;AAStB4B,yBAAqBtB,eATC;AAUtBC,kBAVsB;AAWtBC,gCAXsB;AAYtBC,4BAZsB;AAatBL,UAAM5B,QAAQ4B,IAAR,EAAcT,KAAd,CAbgB;AActBe,cAAUlC,QAAQkC,QAAR,EAAkBf,KAAlB,CAdY;AAetBG,oBAfsB;AAgBtBI,0BAhBsB;AAiBtBC,sBAjBsB;AAkBtBb,wBAlBsB;AAmBtBC,0BAnBsB;AAoBtBM,0BApBsB;AAqBtBD,UArBsB;AAsBtBsB,UAtBsB;AAuBtBC,UAvBsB;AAwBtBU,QAAIP,CAxBkB;AAyBtBQ,QAAIR;AAzBkB,GAAxB;AA2BA,SAAOK,eAAP;AACD;;AAED,eAAejD,eAAf","file":"PriceCoordinate.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { drawOnCanvas, renderSVG } from './EdgeCoordinateV3';\nimport GenericChartComponent from '../GenericChartComponent';\nimport { getAxisCanvas } from '../GenericComponent';\nimport { functor, strokeDashTypes } from '../utils';\n\nclass PriceCoordinate extends Component {\n  constructor(props) {\n    super(props);\n    this.renderSVG = this.renderSVG.bind(this);\n    this.drawOnCanvas = this.drawOnCanvas.bind(this);\n  }\n  drawOnCanvas(ctx, moreProps) {\n    const props = helper(this.props, moreProps);\n    drawOnCanvas(ctx, props);\n  }\n  renderSVG(moreProps) {\n    const props = helper(this.props, moreProps);\n    return renderSVG(props);\n  }\n  render() {\n    return (\n      <GenericChartComponent\n        clip={false}\n        svgDraw={this.renderSVG}\n        canvasDraw={this.drawOnCanvas}\n        canvasToDraw={getAxisCanvas}\n        drawOn={['pan']}\n      />\n    );\n  }\n}\n\nPriceCoordinate.propTypes = {\n  displayFormat: PropTypes.func.isRequired,\n  yAxisPad: PropTypes.number,\n  rectWidth: PropTypes.number,\n  rectHeight: PropTypes.number,\n  orient: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  at: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  price: PropTypes.number,\n  dx: PropTypes.number,\n  arrowWidth: PropTypes.number,\n  opacity: PropTypes.number,\n  lineOpacity: PropTypes.number,\n  lineStroke: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  fill: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  strokeDasharray: PropTypes.oneOf(strokeDashTypes),\n  stroke: PropTypes.string,\n  strokeOpacity: PropTypes.number,\n  strokeWidth: PropTypes.number,\n  textFill: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n};\n\nPriceCoordinate.defaultProps = {\n  yAxisPad: 0,\n  rectWidth: 50,\n  rectHeight: 20,\n  orient: 'left',\n  at: 'left',\n  price: 0,\n  dx: 0,\n  arrowWidth: 0,\n  fill: '#BAB8b8',\n  opacity: 1,\n  lineOpacity: 0.2,\n  lineStroke: '#000000',\n  fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n  fontSize: 13,\n  textFill: '#FFFFFF',\n  strokeOpacity: 1,\n  strokeWidth: 1,\n  strokeDasharray: 'Solid',\n};\n\nfunction helper(props, moreProps) {\n  const { width } = moreProps;\n  const {\n    chartConfig: { yScale },\n  } = moreProps;\n  const [lowerYValue, upperYValue] = yScale.domain();\n\n  const { price, stroke, strokeDasharray, strokeOpacity, strokeWidth } = props;\n  const { orient, at, rectWidth, rectHeight, displayFormat, dx } = props;\n  const {\n    fill,\n    opacity,\n    fontFamily,\n    fontSize,\n    textFill,\n    arrowWidth,\n    lineOpacity,\n    lineStroke,\n  } = props;\n\n  const x1 = 0,\n    x2 = width;\n  const edgeAt = at === 'right' ? width : 0;\n\n  const type = 'horizontal';\n\n  const y = yScale(price);\n  const show = price <= upperYValue && price >= lowerYValue;\n\n  const coordinate = displayFormat(yScale.invert(y));\n  const hideLine = false;\n\n  const coordinateProps = {\n    coordinate,\n    show,\n    type,\n    orient,\n    edgeAt,\n    hideLine,\n    lineOpacity,\n    lineStroke,\n    lineStrokeDasharray: strokeDasharray,\n    stroke,\n    strokeOpacity,\n    strokeWidth,\n    fill: functor(fill)(price),\n    textFill: functor(textFill)(price),\n    opacity,\n    fontFamily,\n    fontSize,\n    rectWidth,\n    rectHeight,\n    arrowWidth,\n    dx,\n    x1,\n    x2,\n    y1: y,\n    y2: y,\n  };\n  return coordinateProps;\n}\n\nexport default PriceCoordinate;\n"]}