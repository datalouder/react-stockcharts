{"version":3,"sources":["../../../../src/lib/coordinates/MouseCoordinateX.js"],"names":["React","Component","PropTypes","drawOnCanvas","renderSVG","GenericChartComponent","getMouseCanvas","isNotDefined","MouseCoordinateX","props","bind","ctx","moreProps","helper","propTypes","displayFormat","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","fill","string","opacity","fontFamily","fontSize","textFill","snapX","bool","customX","xScale","xAccessor","currentItem","mouseXY","x","displayXAccessor","coordinate","invert","defaultProps","strokeOpacity","strokeWidth","show","height","chartConfig","stroke","rectRadius","edgeAt","type","y1","y2","hideLine","coordinateProps","arrowWidth","x1","x2"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,SAASC,6BAAT,EAAuBC,uBAAvB,QAAwC,oBAAxC;AACA,OAAOC,qBAAP,MAAkC,0BAAlC;AACA,SAASC,cAAT,QAA+B,qBAA/B;;AAEA,SAASC,YAAT,QAA6B,UAA7B;;IAEMC,gB;;;AACJ,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA,oIACXA,KADW;;AAEjB,UAAKL,SAAL,GAAiB,MAAKA,SAAL,CAAeM,IAAf,OAAjB;AACA,UAAKP,YAAL,GAAoB,MAAKA,YAAL,CAAkBO,IAAlB,OAApB;AAHiB;AAIlB;;;;iCACYC,G,EAAKC,S,EAAW;AAC3B,UAAMH,QAAQI,OAAO,KAAKJ,KAAZ,EAAmBG,SAAnB,CAAd;AACA,UAAIL,aAAaE,KAAb,CAAJ,EAAyB,OAAO,IAAP;;AAEzBN,oBAAaQ,GAAb,EAAkBF,KAAlB;AACD;;;8BACSG,S,EAAW;AACnB,UAAMH,QAAQI,OAAO,KAAKJ,KAAZ,EAAmBG,SAAnB,CAAd;AACA,UAAIL,aAAaE,KAAb,CAAJ,EAAyB,OAAO,IAAP;;AAEzB,aAAOL,WAAUK,KAAV,CAAP;AACD;;;6BACQ;AACP,aACE,oBAAC,qBAAD;AACE,iBAAS,KAAKL,SADhB;AAEE,cAAM,KAFR;AAGE,oBAAY,KAAKD,YAHnB;AAIE,sBAAcG,cAJhB;AAKE,gBAAQ,CAAC,WAAD,EAAc,KAAd,EAAqB,MAArB;AALV,QADF;AASD;;;;EA5B4BL,S;;AA+B/BO,iBAAiBM,SAAjB,GAA6B;AAC3BC,iBAAeb,UAAUc,IAAV,CAAeC,UADH;AAE3BC,YAAUhB,UAAUiB,MAFO;AAG3BC,aAAWlB,UAAUiB,MAHM;AAI3BE,cAAYnB,UAAUiB,MAJK;AAK3BG,UAAQpB,UAAUqB,KAAV,CAAgB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CALmB;AAM3BC,MAAItB,UAAUqB,KAAV,CAAgB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CANuB;AAO3BE,QAAMvB,UAAUwB,MAPW;AAQ3BC,WAASzB,UAAUiB,MARQ;AAS3BS,cAAY1B,UAAUwB,MATK;AAU3BG,YAAU3B,UAAUiB,MAVO;AAW3BW,YAAU5B,UAAUwB,MAXO;AAY3BK,SAAO7B,UAAU8B;AAZU,CAA7B;;AAeA,SAASC,OAAT,CAAiBxB,KAAjB,EAAwBG,SAAxB,EAAmC;AAAA,MACzBsB,MADyB,GACmBtB,SADnB,CACzBsB,MADyB;AAAA,MACjBC,SADiB,GACmBvB,SADnB,CACjBuB,SADiB;AAAA,MACNC,WADM,GACmBxB,SADnB,CACNwB,WADM;AAAA,MACOC,OADP,GACmBzB,SADnB,CACOyB,OADP;AAAA,MAEzBN,KAFyB,GAEftB,KAFe,CAEzBsB,KAFyB;;AAGjC,MAAMO,IAAIP,QAAQG,OAAOC,UAAUC,WAAV,CAAP,CAAR,GAAyCC,QAAQ,CAAR,CAAnD;;AAHiC,MAKzBE,gBALyB,GAKJ3B,SALI,CAKzB2B,gBALyB;AAAA,MAMzBxB,aANyB,GAMPN,KANO,CAMzBM,aANyB;;AAOjC,MAAMyB,aAAaT,QACfhB,cAAcwB,iBAAiBH,WAAjB,CAAd,CADe,GAEfrB,cAAcmB,OAAOO,MAAP,CAAcH,CAAd,CAAd,CAFJ;AAGA,SAAO,EAAEA,IAAF,EAAKE,sBAAL,EAAP;AACD;;AAEDhC,iBAAiBkC,YAAjB,GAAgC;AAC9BxB,YAAU,CADoB;AAE9BE,aAAW,EAFmB;AAG9BC,cAAY,EAHkB;;AAK9B;AACA;AACAsB,iBAAe,CAPe;AAQ9BC,eAAa,CARiB;;AAU9BtB,UAAQ,QAVsB;AAW9BE,MAAI,QAX0B;;AAa9BC,QAAM,SAbwB;AAc9BE,WAAS,CAdqB;AAe9BC,cAAY,8CAfkB;AAgB9BC,YAAU,EAhBoB;AAiB9BC,YAAU,SAjBoB;AAkB9BC,SAAO,IAlBuB;AAmB9BE,WAASA;AAnBqB,CAAhC;;AAsBA,SAASpB,MAAT,CAAgBJ,KAAhB,EAAuBG,SAAvB,EAAkC;AAAA,MACxBiC,IADwB,GACFjC,SADE,CACxBiC,IADwB;AAAA,MAClBT,WADkB,GACFxB,SADE,CAClBwB,WADkB;AAAA,MAGfU,MAHe,GAI5BlC,SAJ4B,CAG9BmC,WAH8B,CAGfD,MAHe;;;AAMhC,MAAIvC,aAAa6B,WAAb,CAAJ,EAA+B,OAAO,IAAP;;AANC,MAQxBH,OARwB,GAQZxB,KARY,CAQxBwB,OARwB;AAAA,MAUxBX,MAVwB,GAUTb,KAVS,CAUxBa,MAVwB;AAAA,MAUhBE,EAVgB,GAUTf,KAVS,CAUhBe,EAVgB;AAAA,MAWxBwB,MAXwB,GAWevC,KAXf,CAWxBuC,MAXwB;AAAA,MAWhBL,aAXgB,GAWelC,KAXf,CAWhBkC,aAXgB;AAAA,MAWDC,WAXC,GAWenC,KAXf,CAWDmC,WAXC;AAAA,MAYxBK,UAZwB,GAYcxC,KAZd,CAYxBwC,UAZwB;AAAA,MAYZ7B,SAZY,GAYcX,KAZd,CAYZW,SAZY;AAAA,MAYDC,UAZC,GAYcZ,KAZd,CAYDY,UAZC;AAAA,MAaxBI,IAbwB,GAa0BhB,KAb1B,CAaxBgB,IAbwB;AAAA,MAalBE,OAbkB,GAa0BlB,KAb1B,CAalBkB,OAbkB;AAAA,MAaTC,UAbS,GAa0BnB,KAb1B,CAaTmB,UAbS;AAAA,MAaGC,QAbH,GAa0BpB,KAb1B,CAaGoB,QAbH;AAAA,MAaaC,QAbb,GAa0BrB,KAb1B,CAaaqB,QAbb;;;AAehC,MAAMoB,SAAS1B,OAAO,QAAP,GAAkBsB,MAAlB,GAA2B,CAA1C;;AAfgC,iBAiBNb,QAAQxB,KAAR,EAAeG,SAAf,CAjBM;AAAA,MAiBxB0B,CAjBwB,YAiBxBA,CAjBwB;AAAA,MAiBrBE,UAjBqB,YAiBrBA,UAjBqB;;AAmBhC,MAAMW,OAAO,UAAb;AACA,MAAMC,KAAK,CAAX;AAAA,MACEC,KAAKP,MADP;AAEA,MAAMQ,WAAW,IAAjB;;AAEA,MAAMC,kBAAkB;AACtBf,0BADsB;AAEtBK,cAFsB;AAGtBM,cAHsB;AAItB7B,kBAJsB;AAKtB4B,kBALsB;AAMtBI,sBANsB;AAOtB7B,cAPsB;AAQtBE,oBARsB;AAStBC,0BATsB;AAUtBC,sBAVsB;AAWtBC,sBAXsB;AAYtBkB,kBAZsB;AAatBL,gCAbsB;AActBC,4BAdsB;AAetBxB,wBAfsB;AAgBtBC,0BAhBsB;AAiBtB4B,0BAjBsB;AAkBtBO,gBAAY,CAlBU;AAmBtBC,QAAInB,CAnBkB;AAoBtBoB,QAAIpB,CApBkB;AAqBtBc,UArBsB;AAsBtBC;AAtBsB,GAAxB;AAwBA,SAAOE,eAAP;AACD;;AAED,eAAe/C,gBAAf","file":"MouseCoordinateX.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { drawOnCanvas, renderSVG } from './EdgeCoordinateV3';\nimport GenericChartComponent from '../GenericChartComponent';\nimport { getMouseCanvas } from '../GenericComponent';\n\nimport { isNotDefined } from '../utils';\n\nclass MouseCoordinateX extends Component {\n  constructor(props) {\n    super(props);\n    this.renderSVG = this.renderSVG.bind(this);\n    this.drawOnCanvas = this.drawOnCanvas.bind(this);\n  }\n  drawOnCanvas(ctx, moreProps) {\n    const props = helper(this.props, moreProps);\n    if (isNotDefined(props)) return null;\n\n    drawOnCanvas(ctx, props);\n  }\n  renderSVG(moreProps) {\n    const props = helper(this.props, moreProps);\n    if (isNotDefined(props)) return null;\n\n    return renderSVG(props);\n  }\n  render() {\n    return (\n      <GenericChartComponent\n        svgDraw={this.renderSVG}\n        clip={false}\n        canvasDraw={this.drawOnCanvas}\n        canvasToDraw={getMouseCanvas}\n        drawOn={['mousemove', 'pan', 'drag']}\n      />\n    );\n  }\n}\n\nMouseCoordinateX.propTypes = {\n  displayFormat: PropTypes.func.isRequired,\n  yAxisPad: PropTypes.number,\n  rectWidth: PropTypes.number,\n  rectHeight: PropTypes.number,\n  orient: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  at: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  fill: PropTypes.string,\n  opacity: PropTypes.number,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  textFill: PropTypes.string,\n  snapX: PropTypes.bool,\n};\n\nfunction customX(props, moreProps) {\n  const { xScale, xAccessor, currentItem, mouseXY } = moreProps;\n  const { snapX } = props;\n  const x = snapX ? xScale(xAccessor(currentItem)) : mouseXY[0];\n\n  const { displayXAccessor } = moreProps;\n  const { displayFormat } = props;\n  const coordinate = snapX\n    ? displayFormat(displayXAccessor(currentItem))\n    : displayFormat(xScale.invert(x));\n  return { x, coordinate };\n}\n\nMouseCoordinateX.defaultProps = {\n  yAxisPad: 0,\n  rectWidth: 80,\n  rectHeight: 20,\n\n  // rectRadius: 5,\n  // stroke: \"#684F1D\",\n  strokeOpacity: 1,\n  strokeWidth: 1,\n\n  orient: 'bottom',\n  at: 'bottom',\n\n  fill: '#525252',\n  opacity: 1,\n  fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n  fontSize: 13,\n  textFill: '#FFFFFF',\n  snapX: true,\n  customX: customX,\n};\n\nfunction helper(props, moreProps) {\n  const { show, currentItem } = moreProps;\n  const {\n    chartConfig: { height },\n  } = moreProps;\n\n  if (isNotDefined(currentItem)) return null;\n\n  const { customX } = props;\n\n  const { orient, at } = props;\n  const { stroke, strokeOpacity, strokeWidth } = props;\n  const { rectRadius, rectWidth, rectHeight } = props;\n  const { fill, opacity, fontFamily, fontSize, textFill } = props;\n\n  const edgeAt = at === 'bottom' ? height : 0;\n\n  const { x, coordinate } = customX(props, moreProps);\n\n  const type = 'vertical';\n  const y1 = 0,\n    y2 = height;\n  const hideLine = true;\n\n  const coordinateProps = {\n    coordinate,\n    show,\n    type,\n    orient,\n    edgeAt,\n    hideLine,\n    fill,\n    opacity,\n    fontFamily,\n    fontSize,\n    textFill,\n    stroke,\n    strokeOpacity,\n    strokeWidth,\n    rectWidth,\n    rectHeight,\n    rectRadius,\n    arrowWidth: 0,\n    x1: x,\n    x2: x,\n    y1,\n    y2,\n  };\n  return coordinateProps;\n}\n\nexport default MouseCoordinateX;\n"]}