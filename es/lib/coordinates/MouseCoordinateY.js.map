{"version":3,"sources":["../../../../src/lib/coordinates/MouseCoordinateY.js"],"names":["React","Component","PropTypes","drawOnCanvas","renderSVG","GenericChartComponent","getMouseCanvas","isNotDefined","MouseCoordinateY","props","bind","ctx","moreProps","helper","propTypes","displayFormat","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","dx","fill","string","opacity","fontFamily","fontSize","textFill","defaultProps","arrowWidth","strokeOpacity","strokeWidth","chartId","currentCharts","mouseXY","indexOf","show","y","yScale","chartConfig","coordinate","invert","getYCoordinate","displayValue","width","stroke","x1","x2","edgeAt","type","hideLine","coordinateProps","y1","y2"],"mappings":"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","file":"MouseCoordinateY.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { drawOnCanvas, renderSVG } from './EdgeCoordinateV3';\nimport GenericChartComponent from '../GenericChartComponent';\nimport { getMouseCanvas } from '../GenericComponent';\n\nimport { isNotDefined } from '../utils';\n\nclass MouseCoordinateY extends Component {\n  constructor(props) {\n    super(props);\n    this.renderSVG = this.renderSVG.bind(this);\n    this.drawOnCanvas = this.drawOnCanvas.bind(this);\n  }\n  drawOnCanvas(ctx, moreProps) {\n    const props = helper(this.props, moreProps);\n    if (isNotDefined(props)) return null;\n\n    drawOnCanvas(ctx, props);\n  }\n  renderSVG(moreProps) {\n    const props = helper(this.props, moreProps);\n    if (isNotDefined(props)) return null;\n\n    return renderSVG(props);\n  }\n  render() {\n    return (\n      <GenericChartComponent\n        clip={false}\n        svgDraw={this.renderSVG}\n        canvasDraw={this.drawOnCanvas}\n        canvasToDraw={getMouseCanvas}\n        drawOn={['mousemove', 'pan', 'drag']}\n      />\n    );\n  }\n}\n\nMouseCoordinateY.propTypes = {\n  displayFormat: PropTypes.func.isRequired,\n  yAxisPad: PropTypes.number,\n  rectWidth: PropTypes.number,\n  rectHeight: PropTypes.number,\n  orient: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  at: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  dx: PropTypes.number,\n  fill: PropTypes.string,\n  opacity: PropTypes.number,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  textFill: PropTypes.string,\n};\n\nMouseCoordinateY.defaultProps = {\n  yAxisPad: 0,\n  rectWidth: 50,\n  rectHeight: 20,\n  orient: 'left',\n  at: 'left',\n  dx: 0,\n  arrowWidth: 10,\n  fill: '#525252',\n  opacity: 1,\n  fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n  fontSize: 13,\n  textFill: '#FFFFFF',\n\n  // stroke: \"#684F1D\",\n  strokeOpacity: 1,\n  strokeWidth: 1,\n};\n\nfunction helper(props, moreProps) {\n  const { chartId } = moreProps;\n  const { currentCharts, mouseXY } = moreProps;\n\n  if (isNotDefined(mouseXY)) return null;\n  if (currentCharts.indexOf(chartId) < 0) return null;\n\n  const { show } = moreProps;\n  if (!show) return null;\n\n  const y = mouseXY[1];\n  const {\n    chartConfig: { yScale },\n  } = moreProps;\n  const { displayFormat } = props;\n\n  const coordinate = displayFormat(yScale.invert(y));\n\n  return getYCoordinate(y, coordinate, props, moreProps);\n}\n\nexport function getYCoordinate(y, displayValue, props, moreProps) {\n  const { width } = moreProps;\n\n  const { orient, at, rectWidth, rectHeight, dx } = props;\n  const { fill, opacity, fontFamily, fontSize, textFill, arrowWidth } = props;\n  const { stroke, strokeOpacity, strokeWidth } = props;\n\n  const x1 = 0,\n    x2 = width;\n  const edgeAt = at === 'right' ? width : 0;\n\n  const type = 'horizontal';\n  const hideLine = true;\n\n  const coordinateProps = {\n    coordinate: displayValue,\n    show: true,\n    type,\n    orient,\n    edgeAt,\n    hideLine,\n    fill,\n    opacity,\n\n    fontFamily,\n    fontSize,\n    textFill,\n\n    stroke,\n    strokeOpacity,\n    strokeWidth,\n\n    rectWidth,\n    rectHeight,\n\n    arrowWidth,\n    dx,\n    x1,\n    x2,\n    y1: y,\n    y2: y,\n  };\n  return coordinateProps;\n}\n\nexport default MouseCoordinateY;\n"]}