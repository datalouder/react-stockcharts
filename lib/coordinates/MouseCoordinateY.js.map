{"version":3,"sources":["../../../src/lib/coordinates/MouseCoordinateY.js"],"names":["getYCoordinate","MouseCoordinateY","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","helper","getMouseCanvas","Component","propTypes","displayFormat","PropTypes","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","dx","fill","string","opacity","fontFamily","fontSize","textFill","defaultProps","arrowWidth","strokeOpacity","strokeWidth","chartId","currentCharts","mouseXY","indexOf","show","y","yScale","chartConfig","coordinate","invert","displayValue","width","stroke","x1","x2","edgeAt","type","hideLine","coordinateProps","y1","y2"],"mappings":"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","file":"MouseCoordinateY.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { drawOnCanvas, renderSVG } from './EdgeCoordinateV3';\nimport GenericChartComponent from '../GenericChartComponent';\nimport { getMouseCanvas } from '../GenericComponent';\n\nimport { isNotDefined } from '../utils';\n\nclass MouseCoordinateY extends Component {\n  constructor(props) {\n    super(props);\n    this.renderSVG = this.renderSVG.bind(this);\n    this.drawOnCanvas = this.drawOnCanvas.bind(this);\n  }\n  drawOnCanvas(ctx, moreProps) {\n    const props = helper(this.props, moreProps);\n    if (isNotDefined(props)) return null;\n\n    drawOnCanvas(ctx, props);\n  }\n  renderSVG(moreProps) {\n    const props = helper(this.props, moreProps);\n    if (isNotDefined(props)) return null;\n\n    return renderSVG(props);\n  }\n  render() {\n    return (\n      <GenericChartComponent\n        clip={false}\n        svgDraw={this.renderSVG}\n        canvasDraw={this.drawOnCanvas}\n        canvasToDraw={getMouseCanvas}\n        drawOn={['mousemove', 'pan', 'drag']}\n      />\n    );\n  }\n}\n\nMouseCoordinateY.propTypes = {\n  displayFormat: PropTypes.func.isRequired,\n  yAxisPad: PropTypes.number,\n  rectWidth: PropTypes.number,\n  rectHeight: PropTypes.number,\n  orient: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  at: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  dx: PropTypes.number,\n  fill: PropTypes.string,\n  opacity: PropTypes.number,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  textFill: PropTypes.string,\n};\n\nMouseCoordinateY.defaultProps = {\n  yAxisPad: 0,\n  rectWidth: 50,\n  rectHeight: 20,\n  orient: 'left',\n  at: 'left',\n  dx: 0,\n  arrowWidth: 10,\n  fill: '#525252',\n  opacity: 1,\n  fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n  fontSize: 13,\n  textFill: '#FFFFFF',\n\n  // stroke: \"#684F1D\",\n  strokeOpacity: 1,\n  strokeWidth: 1,\n};\n\nfunction helper(props, moreProps) {\n  const { chartId } = moreProps;\n  const { currentCharts, mouseXY } = moreProps;\n\n  if (isNotDefined(mouseXY)) return null;\n  if (currentCharts.indexOf(chartId) < 0) return null;\n\n  const { show } = moreProps;\n  if (!show) return null;\n\n  const y = mouseXY[1];\n  const {\n    chartConfig: { yScale },\n  } = moreProps;\n  const { displayFormat } = props;\n\n  const coordinate = displayFormat(yScale.invert(y));\n\n  return getYCoordinate(y, coordinate, props, moreProps);\n}\n\nexport function getYCoordinate(y, displayValue, props, moreProps) {\n  const { width } = moreProps;\n\n  const { orient, at, rectWidth, rectHeight, dx } = props;\n  const { fill, opacity, fontFamily, fontSize, textFill, arrowWidth } = props;\n  const { stroke, strokeOpacity, strokeWidth } = props;\n\n  const x1 = 0,\n    x2 = width;\n  const edgeAt = at === 'right' ? width : 0;\n\n  const type = 'horizontal';\n  const hideLine = true;\n\n  const coordinateProps = {\n    coordinate: displayValue,\n    show: true,\n    type,\n    orient,\n    edgeAt,\n    hideLine,\n    fill,\n    opacity,\n\n    fontFamily,\n    fontSize,\n    textFill,\n\n    stroke,\n    strokeOpacity,\n    strokeWidth,\n\n    rectWidth,\n    rectHeight,\n\n    arrowWidth,\n    dx,\n    x1,\n    x2,\n    y1: y,\n    y2: y,\n  };\n  return coordinateProps;\n}\n\nexport default MouseCoordinateY;\n"]}