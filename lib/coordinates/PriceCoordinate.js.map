{"version":3,"sources":["../../../src/lib/coordinates/PriceCoordinate.js"],"names":["PriceCoordinate","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","helper","getAxisCanvas","Component","propTypes","displayFormat","PropTypes","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","price","dx","arrowWidth","opacity","lineOpacity","lineStroke","string","fontFamily","fontSize","fill","oneOfType","strokeDasharray","strokeDashTypes","stroke","strokeOpacity","strokeWidth","textFill","defaultProps","width","yScale","chartConfig","domain","lowerYValue","upperYValue","x1","x2","edgeAt","type","y","show","coordinate","invert","hideLine","coordinateProps","lineStrokeDasharray","y1","y2"],"mappings":"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","file":"PriceCoordinate.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { drawOnCanvas, renderSVG } from './EdgeCoordinateV3';\nimport GenericChartComponent from '../GenericChartComponent';\nimport { getAxisCanvas } from '../GenericComponent';\nimport { functor, strokeDashTypes } from '../utils';\n\nclass PriceCoordinate extends Component {\n  constructor(props) {\n    super(props);\n    this.renderSVG = this.renderSVG.bind(this);\n    this.drawOnCanvas = this.drawOnCanvas.bind(this);\n  }\n  drawOnCanvas(ctx, moreProps) {\n    const props = helper(this.props, moreProps);\n    drawOnCanvas(ctx, props);\n  }\n  renderSVG(moreProps) {\n    const props = helper(this.props, moreProps);\n    return renderSVG(props);\n  }\n  render() {\n    return (\n      <GenericChartComponent\n        clip={false}\n        svgDraw={this.renderSVG}\n        canvasDraw={this.drawOnCanvas}\n        canvasToDraw={getAxisCanvas}\n        drawOn={['pan']}\n      />\n    );\n  }\n}\n\nPriceCoordinate.propTypes = {\n  displayFormat: PropTypes.func.isRequired,\n  yAxisPad: PropTypes.number,\n  rectWidth: PropTypes.number,\n  rectHeight: PropTypes.number,\n  orient: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  at: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  price: PropTypes.number,\n  dx: PropTypes.number,\n  arrowWidth: PropTypes.number,\n  opacity: PropTypes.number,\n  lineOpacity: PropTypes.number,\n  lineStroke: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  fill: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  strokeDasharray: PropTypes.oneOf(strokeDashTypes),\n  stroke: PropTypes.string,\n  strokeOpacity: PropTypes.number,\n  strokeWidth: PropTypes.number,\n  textFill: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n};\n\nPriceCoordinate.defaultProps = {\n  yAxisPad: 0,\n  rectWidth: 50,\n  rectHeight: 20,\n  orient: 'left',\n  at: 'left',\n  price: 0,\n  dx: 0,\n  arrowWidth: 0,\n  fill: '#BAB8b8',\n  opacity: 1,\n  lineOpacity: 0.2,\n  lineStroke: '#000000',\n  fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n  fontSize: 13,\n  textFill: '#FFFFFF',\n  strokeOpacity: 1,\n  strokeWidth: 1,\n  strokeDasharray: 'Solid',\n};\n\nfunction helper(props, moreProps) {\n  const { width } = moreProps;\n  const {\n    chartConfig: { yScale },\n  } = moreProps;\n  const [lowerYValue, upperYValue] = yScale.domain();\n\n  const { price, stroke, strokeDasharray, strokeOpacity, strokeWidth } = props;\n  const { orient, at, rectWidth, rectHeight, displayFormat, dx } = props;\n  const {\n    fill,\n    opacity,\n    fontFamily,\n    fontSize,\n    textFill,\n    arrowWidth,\n    lineOpacity,\n    lineStroke,\n  } = props;\n\n  const x1 = 0,\n    x2 = width;\n  const edgeAt = at === 'right' ? width : 0;\n\n  const type = 'horizontal';\n\n  const y = yScale(price);\n  const show = price <= upperYValue && price >= lowerYValue;\n\n  const coordinate = displayFormat(yScale.invert(y));\n  const hideLine = false;\n\n  const coordinateProps = {\n    coordinate,\n    show,\n    type,\n    orient,\n    edgeAt,\n    hideLine,\n    lineOpacity,\n    lineStroke,\n    lineStrokeDasharray: strokeDasharray,\n    stroke,\n    strokeOpacity,\n    strokeWidth,\n    fill: functor(fill)(price),\n    textFill: functor(textFill)(price),\n    opacity,\n    fontFamily,\n    fontSize,\n    rectWidth,\n    rectHeight,\n    arrowWidth,\n    dx,\n    x1,\n    x2,\n    y1: y,\n    y2: y,\n  };\n  return coordinateProps;\n}\n\nexport default PriceCoordinate;\n"]}