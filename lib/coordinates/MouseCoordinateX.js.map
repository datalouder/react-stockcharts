{"version":3,"sources":["../../../src/lib/coordinates/MouseCoordinateX.js"],"names":["MouseCoordinateX","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","helper","getMouseCanvas","Component","propTypes","displayFormat","PropTypes","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","fill","string","opacity","fontFamily","fontSize","textFill","snapX","bool","customX","xScale","xAccessor","currentItem","mouseXY","x","displayXAccessor","coordinate","invert","defaultProps","strokeOpacity","strokeWidth","show","height","chartConfig","stroke","rectRadius","edgeAt","type","y1","y2","hideLine","coordinateProps","arrowWidth","x1","x2"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AAEA;;AACA;;;;AACA;;AAEA;;;;;;;;;;IAEMA,gB;;;AACJ,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA,oIACXA,KADW;;AAEjB,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,OAAjB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,OAApB;AAHiB;AAIlB;;;;iCACYE,G,EAAKC,S,EAAW;AAC3B,UAAML,QAAQM,OAAO,KAAKN,KAAZ,EAAmBK,SAAnB,CAAd;AACA,UAAI,yBAAaL,KAAb,CAAJ,EAAyB,OAAO,IAAP;;AAEzB,yCAAaI,GAAb,EAAkBJ,KAAlB;AACD;;;8BACSK,S,EAAW;AACnB,UAAML,QAAQM,OAAO,KAAKN,KAAZ,EAAmBK,SAAnB,CAAd;AACA,UAAI,yBAAaL,KAAb,CAAJ,EAAyB,OAAO,IAAP;;AAEzB,aAAO,gCAAUA,KAAV,CAAP;AACD;;;6BACQ;AACP,aACE,8BAAC,+BAAD;AACE,iBAAS,KAAKC,SADhB;AAEE,cAAM,KAFR;AAGE,oBAAY,KAAKE,YAHnB;AAIE,sBAAcI,gCAJhB;AAKE,gBAAQ,CAAC,WAAD,EAAc,KAAd,EAAqB,MAArB;AALV,QADF;AASD;;;;EA5B4BC,gB;;AA+B/BT,iBAAiBU,SAAjB,GAA6B;AAC3BC,iBAAeC,oBAAUC,IAAV,CAAeC,UADH;AAE3BC,YAAUH,oBAAUI,MAFO;AAG3BC,aAAWL,oBAAUI,MAHM;AAI3BE,cAAYN,oBAAUI,MAJK;AAK3BG,UAAQP,oBAAUQ,KAAV,CAAgB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CALmB;AAM3BC,MAAIT,oBAAUQ,KAAV,CAAgB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CANuB;AAO3BE,QAAMV,oBAAUW,MAPW;AAQ3BC,WAASZ,oBAAUI,MARQ;AAS3BS,cAAYb,oBAAUW,MATK;AAU3BG,YAAUd,oBAAUI,MAVO;AAW3BW,YAAUf,oBAAUW,MAXO;AAY3BK,SAAOhB,oBAAUiB;AAZU,CAA7B;;AAeA,SAASC,OAAT,CAAiB7B,KAAjB,EAAwBK,SAAxB,EAAmC;AAAA,MACzByB,MADyB,GACmBzB,SADnB,CACzByB,MADyB;AAAA,MACjBC,SADiB,GACmB1B,SADnB,CACjB0B,SADiB;AAAA,MACNC,WADM,GACmB3B,SADnB,CACN2B,WADM;AAAA,MACOC,OADP,GACmB5B,SADnB,CACO4B,OADP;AAAA,MAEzBN,KAFyB,GAEf3B,KAFe,CAEzB2B,KAFyB;;AAGjC,MAAMO,IAAIP,QAAQG,OAAOC,UAAUC,WAAV,CAAP,CAAR,GAAyCC,QAAQ,CAAR,CAAnD;;AAHiC,MAKzBE,gBALyB,GAKJ9B,SALI,CAKzB8B,gBALyB;AAAA,MAMzBzB,aANyB,GAMPV,KANO,CAMzBU,aANyB;;AAOjC,MAAM0B,aAAaT,QACfjB,cAAcyB,iBAAiBH,WAAjB,CAAd,CADe,GAEftB,cAAcoB,OAAOO,MAAP,CAAcH,CAAd,CAAd,CAFJ;AAGA,SAAO,EAAEA,IAAF,EAAKE,sBAAL,EAAP;AACD;;AAEDrC,iBAAiBuC,YAAjB,GAAgC;AAC9BxB,YAAU,CADoB;AAE9BE,aAAW,EAFmB;AAG9BC,cAAY,EAHkB;;AAK9B;AACA;AACAsB,iBAAe,CAPe;AAQ9BC,eAAa,CARiB;;AAU9BtB,UAAQ,QAVsB;AAW9BE,MAAI,QAX0B;;AAa9BC,QAAM,SAbwB;AAc9BE,WAAS,CAdqB;AAe9BC,cAAY,8CAfkB;AAgB9BC,YAAU,EAhBoB;AAiB9BC,YAAU,SAjBoB;AAkB9BC,SAAO,IAlBuB;AAmB9BE,WAASA;AAnBqB,CAAhC;;AAsBA,SAASvB,MAAT,CAAgBN,KAAhB,EAAuBK,SAAvB,EAAkC;AAAA,MACxBoC,IADwB,GACFpC,SADE,CACxBoC,IADwB;AAAA,MAClBT,WADkB,GACF3B,SADE,CAClB2B,WADkB;AAAA,MAGfU,MAHe,GAI5BrC,SAJ4B,CAG9BsC,WAH8B,CAGfD,MAHe;;;AAMhC,MAAI,yBAAaV,WAAb,CAAJ,EAA+B,OAAO,IAAP;;AANC,MAQxBH,OARwB,GAQZ7B,KARY,CAQxB6B,OARwB;AAAA,MAUxBX,MAVwB,GAUTlB,KAVS,CAUxBkB,MAVwB;AAAA,MAUhBE,EAVgB,GAUTpB,KAVS,CAUhBoB,EAVgB;AAAA,MAWxBwB,MAXwB,GAWe5C,KAXf,CAWxB4C,MAXwB;AAAA,MAWhBL,aAXgB,GAWevC,KAXf,CAWhBuC,aAXgB;AAAA,MAWDC,WAXC,GAWexC,KAXf,CAWDwC,WAXC;AAAA,MAYxBK,UAZwB,GAYc7C,KAZd,CAYxB6C,UAZwB;AAAA,MAYZ7B,SAZY,GAYchB,KAZd,CAYZgB,SAZY;AAAA,MAYDC,UAZC,GAYcjB,KAZd,CAYDiB,UAZC;AAAA,MAaxBI,IAbwB,GAa0BrB,KAb1B,CAaxBqB,IAbwB;AAAA,MAalBE,OAbkB,GAa0BvB,KAb1B,CAalBuB,OAbkB;AAAA,MAaTC,UAbS,GAa0BxB,KAb1B,CAaTwB,UAbS;AAAA,MAaGC,QAbH,GAa0BzB,KAb1B,CAaGyB,QAbH;AAAA,MAaaC,QAbb,GAa0B1B,KAb1B,CAaa0B,QAbb;;;AAehC,MAAMoB,SAAS1B,OAAO,QAAP,GAAkBsB,MAAlB,GAA2B,CAA1C;;AAfgC,iBAiBNb,QAAQ7B,KAAR,EAAeK,SAAf,CAjBM;AAAA,MAiBxB6B,CAjBwB,YAiBxBA,CAjBwB;AAAA,MAiBrBE,UAjBqB,YAiBrBA,UAjBqB;;AAmBhC,MAAMW,OAAO,UAAb;AACA,MAAMC,KAAK,CAAX;AAAA,MACEC,KAAKP,MADP;AAEA,MAAMQ,WAAW,IAAjB;;AAEA,MAAMC,kBAAkB;AACtBf,0BADsB;AAEtBK,cAFsB;AAGtBM,cAHsB;AAItB7B,kBAJsB;AAKtB4B,kBALsB;AAMtBI,sBANsB;AAOtB7B,cAPsB;AAQtBE,oBARsB;AAStBC,0BATsB;AAUtBC,sBAVsB;AAWtBC,sBAXsB;AAYtBkB,kBAZsB;AAatBL,gCAbsB;AActBC,4BAdsB;AAetBxB,wBAfsB;AAgBtBC,0BAhBsB;AAiBtB4B,0BAjBsB;AAkBtBO,gBAAY,CAlBU;AAmBtBC,QAAInB,CAnBkB;AAoBtBoB,QAAIpB,CApBkB;AAqBtBc,UArBsB;AAsBtBC;AAtBsB,GAAxB;AAwBA,SAAOE,eAAP;AACD;;kBAEcpD,gB","file":"MouseCoordinateX.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { drawOnCanvas, renderSVG } from './EdgeCoordinateV3';\nimport GenericChartComponent from '../GenericChartComponent';\nimport { getMouseCanvas } from '../GenericComponent';\n\nimport { isNotDefined } from '../utils';\n\nclass MouseCoordinateX extends Component {\n  constructor(props) {\n    super(props);\n    this.renderSVG = this.renderSVG.bind(this);\n    this.drawOnCanvas = this.drawOnCanvas.bind(this);\n  }\n  drawOnCanvas(ctx, moreProps) {\n    const props = helper(this.props, moreProps);\n    if (isNotDefined(props)) return null;\n\n    drawOnCanvas(ctx, props);\n  }\n  renderSVG(moreProps) {\n    const props = helper(this.props, moreProps);\n    if (isNotDefined(props)) return null;\n\n    return renderSVG(props);\n  }\n  render() {\n    return (\n      <GenericChartComponent\n        svgDraw={this.renderSVG}\n        clip={false}\n        canvasDraw={this.drawOnCanvas}\n        canvasToDraw={getMouseCanvas}\n        drawOn={['mousemove', 'pan', 'drag']}\n      />\n    );\n  }\n}\n\nMouseCoordinateX.propTypes = {\n  displayFormat: PropTypes.func.isRequired,\n  yAxisPad: PropTypes.number,\n  rectWidth: PropTypes.number,\n  rectHeight: PropTypes.number,\n  orient: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  at: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n  fill: PropTypes.string,\n  opacity: PropTypes.number,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  textFill: PropTypes.string,\n  snapX: PropTypes.bool,\n};\n\nfunction customX(props, moreProps) {\n  const { xScale, xAccessor, currentItem, mouseXY } = moreProps;\n  const { snapX } = props;\n  const x = snapX ? xScale(xAccessor(currentItem)) : mouseXY[0];\n\n  const { displayXAccessor } = moreProps;\n  const { displayFormat } = props;\n  const coordinate = snapX\n    ? displayFormat(displayXAccessor(currentItem))\n    : displayFormat(xScale.invert(x));\n  return { x, coordinate };\n}\n\nMouseCoordinateX.defaultProps = {\n  yAxisPad: 0,\n  rectWidth: 80,\n  rectHeight: 20,\n\n  // rectRadius: 5,\n  // stroke: \"#684F1D\",\n  strokeOpacity: 1,\n  strokeWidth: 1,\n\n  orient: 'bottom',\n  at: 'bottom',\n\n  fill: '#525252',\n  opacity: 1,\n  fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n  fontSize: 13,\n  textFill: '#FFFFFF',\n  snapX: true,\n  customX: customX,\n};\n\nfunction helper(props, moreProps) {\n  const { show, currentItem } = moreProps;\n  const {\n    chartConfig: { height },\n  } = moreProps;\n\n  if (isNotDefined(currentItem)) return null;\n\n  const { customX } = props;\n\n  const { orient, at } = props;\n  const { stroke, strokeOpacity, strokeWidth } = props;\n  const { rectRadius, rectWidth, rectHeight } = props;\n  const { fill, opacity, fontFamily, fontSize, textFill } = props;\n\n  const edgeAt = at === 'bottom' ? height : 0;\n\n  const { x, coordinate } = customX(props, moreProps);\n\n  const type = 'vertical';\n  const y1 = 0,\n    y2 = height;\n  const hideLine = true;\n\n  const coordinateProps = {\n    coordinate,\n    show,\n    type,\n    orient,\n    edgeAt,\n    hideLine,\n    fill,\n    opacity,\n    fontFamily,\n    fontSize,\n    textFill,\n    stroke,\n    strokeOpacity,\n    strokeWidth,\n    rectWidth,\n    rectHeight,\n    rectRadius,\n    arrowWidth: 0,\n    x1: x,\n    x2: x,\n    y1,\n    y2,\n  };\n  return coordinateProps;\n}\n\nexport default MouseCoordinateX;\n"]}