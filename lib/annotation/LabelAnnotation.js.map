{"version":3,"sources":["../../../src/lib/annotation/LabelAnnotation.js"],"names":["helper","LabelAnnotation","props","handleClick","bind","e","onClick","xScale","yScale","datum","className","textAnchor","fontFamily","fontSize","opacity","rotate","xAccessor","xPos","yPos","fill","text","tooltip","Component","x","y","plotData","xFunc","yFunc","propTypes","PropTypes","string","oneOfType","func","number","object","defaultProps"],"mappings":"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","file":"LabelAnnotation.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { functor } from '../utils';\n\nclass LabelAnnotation extends Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n  handleClick(e) {\n    const { onClick } = this.props;\n\n    if (onClick) {\n      const { xScale, yScale, datum } = this.props;\n      onClick({ xScale, yScale, datum }, e);\n    }\n  }\n  render() {\n    const { className, textAnchor, fontFamily, fontSize, opacity, rotate } =\n      this.props;\n    const { xAccessor, xScale, yScale } = this.props;\n\n    const { xPos, yPos, fill, text, tooltip } = helper(\n      this.props,\n      xAccessor,\n      xScale,\n      yScale\n    );\n\n    return (\n      <g className={className}>\n        <title>{tooltip}</title>\n        <text\n          x={xPos}\n          y={yPos}\n          fontFamily={fontFamily}\n          fontSize={fontSize}\n          fill={fill}\n          opacity={opacity}\n          transform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n          onClick={this.handleClick}\n          textAnchor={textAnchor}\n        >\n          {text}\n        </text>\n      </g>\n    );\n  }\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n  const { x, y, datum, fill, text, tooltip, plotData } = props;\n\n  const xFunc = functor(x);\n  const yFunc = functor(y);\n\n  const [xPos, yPos] = [\n    xFunc({ xScale, xAccessor, datum, plotData }),\n    yFunc({ yScale, datum, plotData }),\n  ];\n\n  return {\n    xPos,\n    yPos,\n    text: functor(text)(datum),\n    fill: functor(fill)(datum),\n    tooltip: functor(tooltip)(datum),\n  };\n}\n\nLabelAnnotation.propTypes = {\n  className: PropTypes.string,\n  text: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  textAnchor: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  opacity: PropTypes.number,\n  rotate: PropTypes.number,\n  onClick: PropTypes.func,\n  xAccessor: PropTypes.func,\n  xScale: PropTypes.func,\n  yScale: PropTypes.func,\n  datum: PropTypes.object,\n  x: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  y: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n};\n\nexport const defaultProps = {\n  textAnchor: 'middle',\n  fontFamily: 'Helvetica Neue, Helvetica, Arial, sans-serif',\n  fontSize: 12,\n  fill: '#000000',\n  opacity: 1,\n  rotate: 0,\n  x: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n  ...defaultProps,\n  className: 'react-stockcharts-labelannotation',\n};\n\nexport default LabelAnnotation;\n"]}