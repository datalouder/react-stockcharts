{"version":3,"sources":["../../../src/lib/tooltip/SingleValueTooltip.js"],"names":["SingleValueTooltip","props","renderSVG","bind","moreProps","onClick","fontFamily","fontSize","labelFill","valueFill","className","xDisplayFormat","yDisplayFormat","xLabel","yLabel","xAccessor","yAccessor","displayValuesFor","chartConfig","width","height","currentItem","xDisplayValue","yDisplayValue","originProp","origin","x","y","Component","propTypes","PropTypes","func","isRequired","string","oneOfType","array","number","defaultProps","noop","identity"],"mappings":"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","file":"SingleValueTooltip.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { format } from 'd3-format';\nimport displayValuesFor from './displayValuesFor';\nimport GenericChartComponent from '../GenericChartComponent';\n\nimport ToolTipText from './ToolTipText';\nimport ToolTipTSpanLabel from './ToolTipTSpanLabel';\nimport { isDefined, identity, noop, functor } from '../utils';\n\nclass SingleValueTooltip extends Component {\n  constructor(props) {\n    super(props);\n    this.renderSVG = this.renderSVG.bind(this);\n  }\n  renderSVG(moreProps) {\n    const { onClick, fontFamily, fontSize, labelFill, valueFill, className } =\n      this.props;\n    const {\n      xDisplayFormat,\n      yDisplayFormat,\n      xLabel,\n      yLabel,\n      xAccessor,\n      yAccessor,\n    } = this.props;\n    const { displayValuesFor } = this.props;\n\n    const {\n      chartConfig: { width, height },\n    } = moreProps;\n    const currentItem = displayValuesFor(this.props, moreProps);\n\n    const xDisplayValue =\n      isDefined(currentItem) && isDefined(xAccessor(currentItem))\n        ? xDisplayFormat(xAccessor(currentItem))\n        : 'n/a';\n    const yDisplayValue =\n      isDefined(currentItem) && isDefined(yAccessor(currentItem))\n        ? yDisplayFormat(yAccessor(currentItem))\n        : 'n/a';\n\n    const { origin: originProp } = this.props;\n    const origin = functor(originProp);\n    const [x, y] = origin(width, height);\n\n    return (\n      <g\n        className={className}\n        transform={`translate(${x}, ${y})`}\n        onClick={onClick}\n      >\n        <ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\n          {xLabel ? (\n            <ToolTipTSpanLabel\n              x={0}\n              dy=\"5\"\n              fill={labelFill}\n            >{`${xLabel}: `}</ToolTipTSpanLabel>\n          ) : null}\n          {xLabel ? (\n            <tspan fill={valueFill}>{`${xDisplayValue} `}</tspan>\n          ) : null}\n          <ToolTipTSpanLabel\n            fill={labelFill}\n          >{`${yLabel}: `}</ToolTipTSpanLabel>\n          <tspan fill={valueFill}>{yDisplayValue}</tspan>\n        </ToolTipText>\n      </g>\n    );\n  }\n  render() {\n    return (\n      <GenericChartComponent\n        clip={false}\n        svgDraw={this.renderSVG}\n        drawOn={['mousemove']}\n      />\n    );\n  }\n}\n\nSingleValueTooltip.propTypes = {\n  xDisplayFormat: PropTypes.func,\n  yDisplayFormat: PropTypes.func.isRequired,\n  xLabel: PropTypes.string,\n  yLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n  labelFill: PropTypes.string.isRequired,\n  valueFill: PropTypes.string,\n  origin: PropTypes.oneOfType([PropTypes.array, PropTypes.func]).isRequired,\n  className: PropTypes.string,\n  fontFamily: PropTypes.string,\n  fontSize: PropTypes.number,\n  onClick: PropTypes.func,\n  displayValuesFor: PropTypes.func,\n  xAccessor: PropTypes.func,\n  yAccessor: PropTypes.func,\n};\n\nSingleValueTooltip.defaultProps = {\n  origin: [0, 0],\n  labelFill: '#4682B4',\n  valueFill: '#000000',\n  yDisplayFormat: format('.2f'),\n  displayValuesFor: displayValuesFor,\n  xAccessor: noop,\n  yAccessor: identity,\n  className: 'react-stockcharts-tooltip',\n};\n\nexport default SingleValueTooltip;\n"]}