{"version":3,"sources":["../../../src/lib/series/MACDSeries.js"],"names":["MACDSeries","props","yAccessorForMACD","bind","yAccessorForSignal","yAccessorForDivergence","yAccessorForDivergenceBase","d","yAccessor","macd","signal","divergence","xScale","yScale","className","opacity","divergenceStroke","widthRatio","width","stroke","fill","clip","zeroLineStroke","zeroLineOpacity","Component","propTypes","PropTypes","string","func","isRequired","number","bool","shape","oneOfType","BarSeries","defaultProps"],"mappings":"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","file":"MACDSeries.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport BarSeries from './BarSeries';\nimport LineSeries from './LineSeries';\nimport StraightLine from './StraightLine';\n\nclass MACDSeries extends Component {\n  constructor(props) {\n    super(props);\n    this.yAccessorForMACD = this.yAccessorForMACD.bind(this);\n    this.yAccessorForSignal = this.yAccessorForSignal.bind(this);\n    this.yAccessorForDivergence = this.yAccessorForDivergence.bind(this);\n    this.yAccessorForDivergenceBase =\n      this.yAccessorForDivergenceBase.bind(this);\n  }\n  yAccessorForMACD(d) {\n    const { yAccessor } = this.props;\n    return yAccessor(d) && yAccessor(d).macd;\n  }\n  yAccessorForSignal(d) {\n    const { yAccessor } = this.props;\n    return yAccessor(d) && yAccessor(d).signal;\n  }\n  yAccessorForDivergence(d) {\n    const { yAccessor } = this.props;\n    return yAccessor(d) && yAccessor(d).divergence;\n  }\n  yAccessorForDivergenceBase(xScale, yScale /* , d */) {\n    return yScale(0);\n  }\n  render() {\n    const { className, opacity, divergenceStroke, widthRatio, width } =\n      this.props;\n    const { stroke, fill } = this.props;\n\n    const { clip } = this.props;\n    const { zeroLineStroke, zeroLineOpacity } = this.props;\n\n    return (\n      <g className={className}>\n        <BarSeries\n          baseAt={this.yAccessorForDivergenceBase}\n          className=\"macd-divergence\"\n          width={width}\n          widthRatio={widthRatio}\n          stroke={divergenceStroke}\n          fill={fill.divergence}\n          opacity={opacity}\n          clip={clip}\n          yAccessor={this.yAccessorForDivergence}\n        />\n        <LineSeries\n          yAccessor={this.yAccessorForMACD}\n          stroke={stroke.macd}\n          fill=\"none\"\n        />\n        <LineSeries\n          yAccessor={this.yAccessorForSignal}\n          stroke={stroke.signal}\n          fill=\"none\"\n        />\n        <StraightLine\n          stroke={zeroLineStroke}\n          opacity={zeroLineOpacity}\n          yValue={0}\n        />\n      </g>\n    );\n  }\n}\n\nMACDSeries.propTypes = {\n  className: PropTypes.string,\n  yAccessor: PropTypes.func.isRequired,\n  opacity: PropTypes.number,\n  divergenceStroke: PropTypes.bool,\n  zeroLineStroke: PropTypes.string,\n  zeroLineOpacity: PropTypes.number,\n  clip: PropTypes.bool.isRequired,\n  stroke: PropTypes.shape({\n    macd: PropTypes.string.isRequired,\n    signal: PropTypes.string.isRequired,\n  }).isRequired,\n  fill: PropTypes.shape({\n    divergence: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n      .isRequired,\n  }).isRequired,\n  widthRatio: PropTypes.number,\n  width: BarSeries.propTypes.width,\n};\n\nMACDSeries.defaultProps = {\n  className: 'react-stockcharts-macd-series',\n  zeroLineStroke: '#000000',\n  zeroLineOpacity: 0.3,\n  opacity: 0.6,\n  divergenceStroke: false,\n  clip: true,\n  widthRatio: 0.5,\n  width: BarSeries.defaultProps.width,\n};\n\nexport default MACDSeries;\n"]}