{"version":3,"sources":["../../../src/lib/series/AlternatingFillAreaSeries.js"],"names":["AlternatingFillAreaSeries","props","renderClip","bind","topClip","bottomClip","baseAt","id1","String","Math","round","random","clipPathId1","id2","clipPathId2","ctx","moreProps","chartConfig","yScale","width","beginPath","rect","clip","height","className","yAccessor","interpolation","stroke","strokeWidth","strokeOpacity","strokeDasharray","fill","fillOpacity","style1","clipPath","style2","top","bottom","Component","propTypes","PropTypes","shape","string","number","oneOf","strokeDashTypes","isRequired","func","defaultProps"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;;;;;;;IAEMA,yB;;;AACJ,qCAAYC,KAAZ,EAAmB;AAAA;;AAAA,sJACXA,KADW;;AAEjB,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,OAAlB;AACA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaD,IAAb,OAAf;AACA,UAAKE,UAAL,GAAkB,MAAKA,UAAL,CAAgBF,IAAhB,OAAlB;AACA,UAAKG,MAAL,GAAc,MAAKA,MAAL,CAAYH,IAAZ,OAAd;;AAEA,QAAMI,MAAMC,OAAOC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,KAAhB,GAAwB,KAAnC,CAAP,CAAZ;AACA,UAAKC,WAAL,8BAA4CL,GAA5C;;AAEA,QAAMM,MAAML,OAAOC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,KAAhB,GAAwB,KAAnC,CAAP,CAAZ;AACA,UAAKG,WAAL,8BAA4CD,GAA5C;AAXiB;AAYlB;;;;4BACOE,G,EAAKC,S,EAAW;AAAA,UACdC,WADc,GACED,SADF,CACdC,WADc;AAAA,UAEdX,MAFc,GAEH,KAAKL,KAFF,CAEdK,MAFc;AAAA,UAGdY,MAHc,GAGID,WAHJ,CAGdC,MAHc;AAAA,UAGNC,KAHM,GAGIF,WAHJ,CAGNE,KAHM;;;AAKtBJ,UAAIK,SAAJ;AACAL,UAAIM,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAeF,KAAf,EAAsBD,OAAOZ,MAAP,CAAtB;AACAS,UAAIO,IAAJ;AACD;;;+BACUP,G,EAAKC,S,EAAW;AAAA,UACjBC,WADiB,GACDD,SADC,CACjBC,WADiB;AAAA,UAEjBX,MAFiB,GAEN,KAAKL,KAFC,CAEjBK,MAFiB;AAAA,UAGjBY,MAHiB,GAGSD,WAHT,CAGjBC,MAHiB;AAAA,UAGTC,KAHS,GAGSF,WAHT,CAGTE,KAHS;AAAA,UAGFI,MAHE,GAGSN,WAHT,CAGFM,MAHE;;;AAKzBR,UAAIK,SAAJ;AACAL,UAAIM,IAAJ,CAAS,CAAT,EAAYH,OAAOZ,MAAP,CAAZ,EAA4Ba,KAA5B,EAAmCI,SAASL,OAAOZ,MAAP,CAA5C;AACAS,UAAIO,IAAJ;AACD;;;+BACUN,S,EAAW;AAAA,UACZC,WADY,GACID,SADJ,CACZC,WADY;AAAA,UAEZX,MAFY,GAED,KAAKL,KAFJ,CAEZK,MAFY;AAAA,UAGZY,MAHY,GAGcD,WAHd,CAGZC,MAHY;AAAA,UAGJC,KAHI,GAGcF,WAHd,CAGJE,KAHI;AAAA,UAGGI,MAHH,GAGcN,WAHd,CAGGM,MAHH;;;AAKpB,aACE;AAAA;AAAA;AACE;AAAA;AAAA,YAAU,IAAI,KAAKX,WAAnB;AACE,kDAAM,GAAG,CAAT,EAAY,GAAG,CAAf,EAAkB,OAAOO,KAAzB,EAAgC,QAAQD,OAAOZ,MAAP,CAAxC;AADF,SADF;AAIE;AAAA;AAAA,YAAU,IAAI,KAAKQ,WAAnB;AACE;AACE,eAAG,CADL;AAEE,eAAGI,OAAOZ,MAAP,CAFL;AAGE,mBAAOa,KAHT;AAIE,oBAAQI,SAASL,OAAOZ,MAAP;AAJnB;AADF;AAJF,OADF;AAeD;;;2BACMY,M,EAAQ;AACb,aAAOA,OAAO,KAAKjB,KAAL,CAAWK,MAAlB,CAAP;AACD;;;6BACQ;AAAA,mBACyC,KAAKL,KAD9C;AAAA,UACCuB,SADD,UACCA,SADD;AAAA,UACYC,SADZ,UACYA,SADZ;AAAA,UACuBC,aADvB,UACuBA,aADvB;AAAA,oBAUH,KAAKzB,KAVF;AAAA,UAGL0B,MAHK,WAGLA,MAHK;AAAA,UAILC,WAJK,WAILA,WAJK;AAAA,UAKLC,aALK,WAKLA,aALK;AAAA,UAMLC,eANK,WAMLA,eANK;AAAA,UAQLC,IARK,WAQLA,IARK;AAAA,UASLC,WATK,WASLA,WATK;;;AAYP,UAAMC,SAAS,EAAEC,oBAAkB,KAAKtB,WAAvB,MAAF,EAAf;AACA,UAAMuB,SAAS,EAAED,oBAAkB,KAAKpB,WAAvB,MAAF,EAAf;;AAEA,aACE;AAAA;AAAA,UAAG,WAAWU,SAAd;AACE;AAAC,gCAAD;AAAA;AAAe,eAAKtB;AAApB,SADF;AAEE,sCAAC,oBAAD;AACE,iBAAO+B,MADT;AAEE,sBAAY,KAAK7B,OAFnB;AAGE,qBAAWqB,SAHb;AAIE,yBAAeC,aAJjB;AAKE,kBAAQ,KAAKpB,MALf;AAME,gBAAMyB,KAAKK,GANb;AAOE,mBAASJ,YAAYI,GAPvB;AAQE,kBAAQT,OAAOS,GARjB;AASE,yBAAeP,cAAcO,GAT/B;AAUE,2BAAiBN,gBAAgBM,GAVnC;AAWE,uBAAaR,YAAYQ;AAX3B,UAFF;AAeE,sCAAC,oBAAD;AACE,iBAAOD,MADT;AAEE,sBAAY,KAAK9B,UAFnB;AAGE,qBAAWoB,SAHb;AAIE,yBAAeC,aAJjB;AAKE,kBAAQ,KAAKpB,MALf;AAME,gBAAMyB,KAAKM,MANb;AAOE,mBAASL,YAAYK,MAPvB;AAQE,kBAAQV,OAAOU,MARjB;AASE,yBAAeR,cAAcQ,MAT/B;AAUE,2BAAiBP,gBAAgBO,MAVnC;AAWE,uBAAaT,YAAYS;AAX3B;AAfF,OADF;AA+BD;;;;EAtGqCC,gB;;AAyGxCtC,0BAA0BuC,SAA1B,GAAsC;AACpCZ,UAAQa,oBAAUC,KAAV,CAAgB;AACtBL,SAAKI,oBAAUE,MADO;AAEtBL,YAAQG,oBAAUE;AAFI,GAAhB,CAD4B;;AAMpCd,eAAaY,oBAAUC,KAAV,CAAgB;AAC3BL,SAAKI,oBAAUG,MADY;AAE3BN,YAAQG,oBAAUG;AAFS,GAAhB,CANuB;AAUpCd,iBAAeW,oBAAUC,KAAV,CAAgB;AAC7BL,SAAKI,oBAAUG,MADc;AAE7BN,YAAQG,oBAAUG;AAFW,GAAhB,CAVqB;AAcpCZ,QAAMS,oBAAUC,KAAV,CAAgB;AACpBL,SAAKI,oBAAUE,MADK;AAEpBL,YAAQG,oBAAUE;AAFE,GAAhB,CAd8B;AAkBpCV,eAAaQ,oBAAUC,KAAV,CAAgB;AAC3BL,SAAKI,oBAAUG,MADY;AAE3BN,YAAQG,oBAAUG;AAFS,GAAhB,CAlBuB;AAsBpCb,mBAAiBU,oBAAUC,KAAV,CAAgB;AAC/BL,SAAKI,oBAAUI,KAAV,CAAgBC,sBAAhB,CAD0B;AAE/BR,YAAQG,oBAAUI,KAAV,CAAgBC,sBAAhB;AAFuB,GAAhB,EAGdC,UAzBiC;;AA2BpCtB,aAAWgB,oBAAUE,MA3Be;AA4BpCjB,aAAWe,oBAAUO,IAAV,CAAeD,UA5BU;;AA8BpCxC,UAAQkC,oBAAUG,MAAV,CAAiBG,UA9BW;;AAgCpCpB,iBAAec,oBAAUO;AAhCW,CAAtC;;AAmCA/C,0BAA0BgD,YAA1B,GAAyC;AACvCrB,UAAQ;AACNS,SAAK,SADC;AAENC,YAAQ;AAFF,GAD+B;AAKvCT,eAAa;AACXQ,SAAK,CADM;AAEXC,YAAQ;AAFG,GAL0B;AASvCR,iBAAe;AACbO,SAAK,CADQ;AAEbC,YAAQ;AAFK,GATwB;AAavCN,QAAM;AACJK,SAAK,SADD;AAEJC,YAAQ;AAFJ,GAbiC;AAiBvCL,eAAa;AACXI,SAAK,GADM;AAEXC,YAAQ;AAFG,GAjB0B;AAqBvCP,mBAAiB;AACfM,SAAK,OADU;AAEfC,YAAQ;AAFO,GArBsB;AAyBvCb,aAAW;AAzB4B,CAAzC;;kBA4BexB,yB","file":"AlternatingFillAreaSeries.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport AreaSeries from './AreaSeries';\nimport SVGComponent from './SVGComponent';\nimport { strokeDashTypes } from '../utils';\n\nclass AlternatingFillAreaSeries extends Component {\n  constructor(props) {\n    super(props);\n    this.renderClip = this.renderClip.bind(this);\n    this.topClip = this.topClip.bind(this);\n    this.bottomClip = this.bottomClip.bind(this);\n    this.baseAt = this.baseAt.bind(this);\n\n    const id1 = String(Math.round(Math.random() * 10000 * 10000));\n    this.clipPathId1 = `alternating-area-clip-${id1}`;\n\n    const id2 = String(Math.round(Math.random() * 10000 * 10000));\n    this.clipPathId2 = `alternating-area-clip-${id2}`;\n  }\n  topClip(ctx, moreProps) {\n    const { chartConfig } = moreProps;\n    const { baseAt } = this.props;\n    const { yScale, width } = chartConfig;\n\n    ctx.beginPath();\n    ctx.rect(0, 0, width, yScale(baseAt));\n    ctx.clip();\n  }\n  bottomClip(ctx, moreProps) {\n    const { chartConfig } = moreProps;\n    const { baseAt } = this.props;\n    const { yScale, width, height } = chartConfig;\n\n    ctx.beginPath();\n    ctx.rect(0, yScale(baseAt), width, height - yScale(baseAt));\n    ctx.clip();\n  }\n  renderClip(moreProps) {\n    const { chartConfig } = moreProps;\n    const { baseAt } = this.props;\n    const { yScale, width, height } = chartConfig;\n\n    return (\n      <defs>\n        <clipPath id={this.clipPathId1}>\n          <rect x={0} y={0} width={width} height={yScale(baseAt)} />\n        </clipPath>\n        <clipPath id={this.clipPathId2}>\n          <rect\n            x={0}\n            y={yScale(baseAt)}\n            width={width}\n            height={height - yScale(baseAt)}\n          />\n        </clipPath>\n      </defs>\n    );\n  }\n  baseAt(yScale) {\n    return yScale(this.props.baseAt);\n  }\n  render() {\n    const { className, yAccessor, interpolation } = this.props;\n    const {\n      stroke,\n      strokeWidth,\n      strokeOpacity,\n      strokeDasharray,\n\n      fill,\n      fillOpacity,\n    } = this.props;\n\n    const style1 = { clipPath: `url(#${this.clipPathId1})` };\n    const style2 = { clipPath: `url(#${this.clipPathId2})` };\n\n    return (\n      <g className={className}>\n        <SVGComponent>{this.renderClip}</SVGComponent>\n        <AreaSeries\n          style={style1}\n          canvasClip={this.topClip}\n          yAccessor={yAccessor}\n          interpolation={interpolation}\n          baseAt={this.baseAt}\n          fill={fill.top}\n          opacity={fillOpacity.top}\n          stroke={stroke.top}\n          strokeOpacity={strokeOpacity.top}\n          strokeDasharray={strokeDasharray.top}\n          strokeWidth={strokeWidth.top}\n        />\n        <AreaSeries\n          style={style2}\n          canvasClip={this.bottomClip}\n          yAccessor={yAccessor}\n          interpolation={interpolation}\n          baseAt={this.baseAt}\n          fill={fill.bottom}\n          opacity={fillOpacity.bottom}\n          stroke={stroke.bottom}\n          strokeOpacity={strokeOpacity.bottom}\n          strokeDasharray={strokeDasharray.bottom}\n          strokeWidth={strokeWidth.bottom}\n        />\n      </g>\n    );\n  }\n}\n\nAlternatingFillAreaSeries.propTypes = {\n  stroke: PropTypes.shape({\n    top: PropTypes.string,\n    bottom: PropTypes.string,\n  }),\n\n  strokeWidth: PropTypes.shape({\n    top: PropTypes.number,\n    bottom: PropTypes.number,\n  }),\n  strokeOpacity: PropTypes.shape({\n    top: PropTypes.number,\n    bottom: PropTypes.number,\n  }),\n  fill: PropTypes.shape({\n    top: PropTypes.string,\n    bottom: PropTypes.string,\n  }),\n  fillOpacity: PropTypes.shape({\n    top: PropTypes.number,\n    bottom: PropTypes.number,\n  }),\n  strokeDasharray: PropTypes.shape({\n    top: PropTypes.oneOf(strokeDashTypes),\n    bottom: PropTypes.oneOf(strokeDashTypes),\n  }).isRequired,\n\n  className: PropTypes.string,\n  yAccessor: PropTypes.func.isRequired,\n\n  baseAt: PropTypes.number.isRequired,\n\n  interpolation: PropTypes.func,\n};\n\nAlternatingFillAreaSeries.defaultProps = {\n  stroke: {\n    top: '#38C172',\n    bottom: '#E3342F',\n  },\n  strokeWidth: {\n    top: 2,\n    bottom: 2,\n  },\n  strokeOpacity: {\n    top: 1,\n    bottom: 1,\n  },\n  fill: {\n    top: '#A2F5BF',\n    bottom: '#EF5753',\n  },\n  fillOpacity: {\n    top: 0.5,\n    bottom: 0.5,\n  },\n  strokeDasharray: {\n    top: 'Solid',\n    bottom: 'Solid',\n  },\n  className: 'react-stockcharts-alternating-area',\n};\n\nexport default AlternatingFillAreaSeries;\n"]}