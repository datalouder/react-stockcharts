{"version":3,"sources":["../../../../src/lib/interactive/components/StraightLine.js"],"names":["isHovering2","isHovering","getSlope","getYIntercept","generateLine","StraightLine","props","renderSVG","bind","drawOnCanvas","isHover","moreProps","tolerance","onHover","x1Value","x2Value","y1Value","y2Value","type","mouseXY","xScale","yScale","chartConfig","hovering","ctx","stroke","strokeWidth","strokeOpacity","strokeDasharray","helper","x1","y1","x2","y2","lineWidth","strokeStyle","setLineDash","split","beginPath","moveTo","lineTo","selected","interactiveCursorClass","onDragStart","onDrag","onDragComplete","onUnHover","getMouseCanvas","Component","start","end","mouseX","mouseY","m","b","y","Math","min","max","line","modLine","undefined","getXLineCoordinates","getRayCoordinates","getLineCoordinates","domain","xBegin","xFinish","yBegin","yFinish","propTypes","PropTypes","any","isRequired","string","number","oneOf","strokeDashTypes","onEdge1Drag","func","onEdge2Drag","defaultClassName","r","edgeFill","edgeStroke","edgeStrokeWidth","withEdge","bool","children","defaultProps","noop"],"mappings":"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","file":"StraightLine.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport GenericChartComponent from '../../GenericChartComponent';\nimport { getMouseCanvas } from '../../GenericComponent';\n\nimport {\n  isDefined,\n  noop,\n  hexToRGBA,\n  getStrokeDasharray,\n  strokeDashTypes,\n} from '../../utils';\n\nclass StraightLine extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderSVG = this.renderSVG.bind(this);\n    this.drawOnCanvas = this.drawOnCanvas.bind(this);\n    this.isHover = this.isHover.bind(this);\n  }\n  isHover(moreProps) {\n    const { tolerance, onHover } = this.props;\n\n    if (isDefined(onHover)) {\n      const { x1Value, x2Value, y1Value, y2Value, type } = this.props;\n      const { mouseXY, xScale } = moreProps;\n      const {\n        chartConfig: { yScale },\n      } = moreProps;\n\n      const hovering = isHovering({\n        x1Value,\n        y1Value,\n        x2Value,\n        y2Value,\n        mouseXY,\n        type,\n        tolerance,\n        xScale,\n        yScale,\n      });\n\n      // console.log(\"hovering ->\", hovering);\n\n      return hovering;\n    }\n    return false;\n  }\n  drawOnCanvas(ctx, moreProps) {\n    const { stroke, strokeWidth, strokeOpacity, strokeDasharray } = this.props;\n    const { x1, y1, x2, y2 } = helper(this.props, moreProps);\n\n    ctx.lineWidth = strokeWidth;\n    ctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n    ctx.setLineDash(getStrokeDasharray(strokeDasharray).split(','));\n\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n  }\n  renderSVG(moreProps) {\n    const { stroke, strokeWidth, strokeOpacity, strokeDasharray } = this.props;\n\n    const lineWidth = strokeWidth;\n\n    const { x1, y1, x2, y2 } = helper(this.props, moreProps);\n    return (\n      <line\n        x1={x1}\n        y1={y1}\n        x2={x2}\n        y2={y2}\n        stroke={stroke}\n        strokeWidth={lineWidth}\n        strokeDasharray={getStrokeDasharray(strokeDasharray)}\n        strokeOpacity={strokeOpacity}\n      />\n    );\n  }\n  render() {\n    const { selected, interactiveCursorClass } = this.props;\n    const { onDragStart, onDrag, onDragComplete, onHover, onUnHover } =\n      this.props;\n\n    return (\n      <GenericChartComponent\n        isHover={this.isHover}\n        svgDraw={this.renderSVG}\n        canvasToDraw={getMouseCanvas}\n        canvasDraw={this.drawOnCanvas}\n        interactiveCursorClass={interactiveCursorClass}\n        selected={selected}\n        onDragStart={onDragStart}\n        onDrag={onDrag}\n        onDragComplete={onDragComplete}\n        onHover={onHover}\n        onUnHover={onUnHover}\n        drawOn={['mousemove', 'pan', 'drag']}\n      />\n    );\n  }\n}\n\nexport function isHovering2(start, end, [mouseX, mouseY], tolerance) {\n  const m = getSlope(start, end);\n\n  if (isDefined(m)) {\n    const b = getYIntercept(m, end);\n    const y = m * mouseX + b;\n    return (\n      mouseY < y + tolerance &&\n      mouseY > y - tolerance &&\n      mouseX > Math.min(start[0], end[0]) - tolerance &&\n      mouseX < Math.max(start[0], end[0]) + tolerance\n    );\n  } else {\n    return (\n      mouseY >= Math.min(start[1], end[1]) &&\n      mouseY <= Math.max(start[1], end[1]) &&\n      mouseX < start[0] + tolerance &&\n      mouseX > start[0] - tolerance\n    );\n  }\n}\n\nexport function isHovering({\n  x1Value,\n  y1Value,\n  x2Value,\n  y2Value,\n  mouseXY,\n  type,\n  tolerance,\n  xScale,\n  yScale,\n}) {\n  const line = generateLine({\n    type,\n    start: [x1Value, y1Value],\n    end: [x2Value, y2Value],\n    xScale,\n    yScale,\n  });\n\n  const start = [xScale(line.x1), yScale(line.y1)];\n  const end = [xScale(line.x2), yScale(line.y2)];\n\n  const m = getSlope(start, end);\n  const [mouseX, mouseY] = mouseXY;\n\n  if (isDefined(m)) {\n    const b = getYIntercept(m, end);\n    const y = m * mouseX + b;\n\n    return (\n      mouseY < y + tolerance &&\n      mouseY > y - tolerance &&\n      mouseX > Math.min(start[0], end[0]) - tolerance &&\n      mouseX < Math.max(start[0], end[0]) + tolerance\n    );\n  } else {\n    return (\n      mouseY >= Math.min(start[1], end[1]) &&\n      mouseY <= Math.max(start[1], end[1]) &&\n      mouseX < start[0] + tolerance &&\n      mouseX > start[0] - tolerance\n    );\n  }\n}\n\nfunction helper(props, moreProps) {\n  const { x1Value, x2Value, y1Value, y2Value, type } = props;\n\n  const {\n    xScale,\n    chartConfig: { yScale },\n  } = moreProps;\n\n  const modLine = generateLine({\n    type,\n    start: [x1Value, y1Value],\n    end: [x2Value, y2Value],\n    xScale,\n    yScale,\n  });\n\n  const x1 = xScale(modLine.x1);\n  const y1 = yScale(modLine.y1);\n  const x2 = xScale(modLine.x2);\n  const y2 = yScale(modLine.y2);\n\n  return {\n    x1,\n    y1,\n    x2,\n    y2,\n  };\n}\n\nexport function getSlope(start, end) {\n  const m /* slope */ =\n    end[0] === start[0] ? undefined : (end[1] - start[1]) / (end[0] - start[0]);\n  return m;\n}\nexport function getYIntercept(m, end) {\n  const b /* y intercept */ = -1 * m * end[0] + end[1];\n  return b;\n}\n\nexport function generateLine({ type, start, end, xScale, yScale }) {\n  const m /* slope */ = getSlope(start, end);\n  // console.log(end[0] - start[0], m)\n  const b /* y intercept */ = getYIntercept(m, start);\n\n  switch (type) {\n    case 'XLINE':\n      return getXLineCoordinates({\n        type,\n        start,\n        end,\n        xScale,\n        yScale,\n        m,\n        b,\n      });\n    case 'RAY':\n      return getRayCoordinates({\n        type,\n        start,\n        end,\n        xScale,\n        yScale,\n        m,\n        b,\n      });\n    case 'LINE':\n      return getLineCoordinates({\n        type,\n        start,\n        end,\n        xScale,\n        yScale,\n        m,\n        b,\n      });\n  }\n}\n\nfunction getXLineCoordinates({ start, end, xScale, yScale, m, b }) {\n  const [xBegin, xFinish] = xScale.domain();\n  const [yBegin, yFinish] = yScale.domain();\n\n  if (end[0] === start[0]) {\n    return {\n      x1: end[0],\n      y1: yBegin,\n      x2: end[0],\n      y2: yFinish,\n    };\n  }\n  const [x1, x2] = end[0] > start[0] ? [xBegin, xFinish] : [xFinish, xBegin];\n\n  return {\n    x1,\n    y1: m * x1 + b,\n    x2,\n    y2: m * x2 + b,\n  };\n}\n\nfunction getRayCoordinates({ start, end, xScale, yScale, m, b }) {\n  const [xBegin, xFinish] = xScale.domain();\n  const [yBegin, yFinish] = yScale.domain();\n\n  const x1 = start[0];\n  if (end[0] === start[0]) {\n    return {\n      x1,\n      y1: start[1],\n      x2: x1,\n      y2: end[1] > start[1] ? yFinish : yBegin,\n    };\n  }\n\n  const x2 = end[0] > start[0] ? xFinish : xBegin;\n\n  return {\n    x1,\n    y1: m * x1 + b,\n    x2,\n    y2: m * x2 + b,\n  };\n}\n\nfunction getLineCoordinates({ start, end }) {\n  const [x1, y1] = start;\n  const [x2, y2] = end;\n  if (end[0] === start[0]) {\n    return {\n      x1,\n      y1: start[1],\n      x2: x1,\n      y2: end[1],\n    };\n  }\n\n  return {\n    x1,\n    y1,\n    x2,\n    y2,\n  };\n}\n\nStraightLine.propTypes = {\n  x1Value: PropTypes.any.isRequired,\n  x2Value: PropTypes.any.isRequired,\n  y1Value: PropTypes.any.isRequired,\n  y2Value: PropTypes.any.isRequired,\n\n  interactiveCursorClass: PropTypes.string,\n  stroke: PropTypes.string.isRequired,\n  strokeWidth: PropTypes.number.isRequired,\n  strokeOpacity: PropTypes.number.isRequired,\n  strokeDasharray: PropTypes.oneOf(strokeDashTypes),\n\n  type: PropTypes.oneOf([\n    'XLINE', // extends from -Infinity to +Infinity\n    'RAY', // extends to +/-Infinity in one direction\n    'LINE', // extends between the set bounds\n  ]).isRequired,\n\n  onEdge1Drag: PropTypes.func.isRequired,\n  onEdge2Drag: PropTypes.func.isRequired,\n  onDragStart: PropTypes.func.isRequired,\n  onDrag: PropTypes.func.isRequired,\n  onDragComplete: PropTypes.func.isRequired,\n  onHover: PropTypes.func,\n  onUnHover: PropTypes.func,\n\n  defaultClassName: PropTypes.string,\n\n  r: PropTypes.number.isRequired,\n  edgeFill: PropTypes.string.isRequired,\n  edgeStroke: PropTypes.string.isRequired,\n  edgeStrokeWidth: PropTypes.number.isRequired,\n  withEdge: PropTypes.bool.isRequired,\n  children: PropTypes.func.isRequired,\n  tolerance: PropTypes.number.isRequired,\n  selected: PropTypes.bool.isRequired,\n};\n\nStraightLine.defaultProps = {\n  onEdge1Drag: noop,\n  onEdge2Drag: noop,\n  onDragStart: noop,\n  onDrag: noop,\n  onDragComplete: noop,\n\n  edgeStrokeWidth: 3,\n  edgeStroke: '#000000',\n  edgeFill: '#FFFFFF',\n  r: 10,\n  withEdge: false,\n  strokeWidth: 1,\n  strokeDasharray: 'Solid',\n  children: noop,\n  tolerance: 7,\n  selected: false,\n};\n\nexport default StraightLine;\n"]}