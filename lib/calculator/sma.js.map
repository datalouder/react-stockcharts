{"version":3,"sources":["../../../src/lib/calculator/sma.js"],"names":["options","defaultOptions","calculator","data","windowSize","sourcePath","average","accumulator","values","undefinedLength","x","arguments","length"],"mappings":";;;;;;;;kBAKe,YAAY;AACzB,MAAIA,UAAUC,iCAAd;;AAEA,WAASC,UAAT,CAAoBC,IAApB,EAA0B;AAAA,mBACWH,OADX;AAAA,QAChBI,UADgB,YAChBA,UADgB;AAAA,QACJC,UADI,YACJA,UADI;;;AAGxB,QAAMC,UAAU,4BACbF,UADa,CACFA,UADE,EAEbC,UAFa,CAEFA,UAFE,EAGbE,WAHa,CAGD;AAAA,aAAU,mBAAKC,MAAL,CAAV;AAAA,KAHC,CAAhB;;AAKA,WAAOF,QAAQH,IAAR,CAAP;AACD;AACDD,aAAWO,eAAX,GAA6B,YAAY;AAAA,oBAChBT,OADgB;AAAA,QAC/BI,UAD+B,aAC/BA,UAD+B;;AAEvC,WAAOA,aAAa,CAApB;AACD,GAHD;AAIAF,aAAWF,OAAX,GAAqB,UAAUU,CAAV,EAAa;AAChC,QAAI,CAACC,UAAUC,MAAf,EAAuB;AACrB,aAAOZ,OAAP;AACD;AACDA,2BAAeC,iCAAf,EAAkCS,CAAlC;AACA,WAAOR,UAAP;AACD,GAND;;AAQA,SAAOA,UAAP;AACD,C;;AA/BD;;AAEA;;AACA","file":"sma.js","sourcesContent":["import { mean } from 'd3-array';\n\nimport { slidingWindow } from '../utils';\nimport { SMA as defaultOptions } from './defaultOptionsForComputation';\n\nexport default function () {\n  let options = defaultOptions;\n\n  function calculator(data) {\n    const { windowSize, sourcePath } = options;\n\n    const average = slidingWindow()\n      .windowSize(windowSize)\n      .sourcePath(sourcePath)\n      .accumulator(values => mean(values));\n\n    return average(data);\n  }\n  calculator.undefinedLength = function () {\n    const { windowSize } = options;\n    return windowSize - 1;\n  };\n  calculator.options = function (x) {\n    if (!arguments.length) {\n      return options;\n    }\n    options = { ...defaultOptions, ...x };\n    return calculator;\n  };\n\n  return calculator;\n}\n"]}